import{h as e,e as t,b as n,W as a,t as r,s as i}from"./vendor.be1711ea.js";import"./index.esm.737b3fbf.js";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var s=function(){return(s=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};!function(a){function r(){return null!==a&&a.apply(this,arguments)||this}(function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(r,a),r.prototype.beforeRender=function(){this.pageNum=Math.ceil(this.props.total/this.props.pageSize)},r.prototype.goto=function(e){this.props.currentPage=e,this.forceUpdate(),this.fire("change",e)},r.prototype.render=function(n){var a=[],r=this.getInterval();if(r[0]>0&&n.numEdge>0){for(var i=Math.min(n.numEdge,r[0]),o=0;o<i;o++)a.push(this.getItem(o,o+1));n.numEdge<r[0]&&n.ellipseText&&a.push(e("li",{class:"o-icon more btn-quicknext o-icon-more"}))}for(o=r[0];o<r[1];o++)a.push(this.getItem(o,o+1));if(r[1]<this.pageNum&&n.numEdge>0){this.pageNum-n.numEdge>r[1]&&n.ellipseText&&a.push(e("li",{class:"o-icon more btn-quicknext o-icon-more"}));for(o=Math.max(this.pageNum-n.numEdge,r[1]);o<this.pageNum;o++)a.push(this.getItem(o,o+1))}return e("div",s({},t(n,"o-pagination is-background")),n.prevShow&&this.getPrev()," ",e("ul",{class:"o-pager"},a.map((function(e){return e})))," ",n.nextShow&&this.getNext())},r.prototype.getInterval=function(){var e=Math.ceil(this.props.numDisplay/2),t=this.pageNum-this.props.numDisplay;return[this.props.currentPage>e?Math.max(Math.min(this.props.currentPage-e,t),0):0,this.props.currentPage>e?Math.min(this.props.currentPage+e,this.pageNum):Math.min(this.props.numDisplay,this.pageNum)]},r.prototype.getPrev=function(){var t=this;return 0===this.props.currentPage?e("button",{type:"button",class:"btn-prev",disabled:!0},e("svg",{viewBox:"64 64 896 896",class:"","data-icon":"left",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},e("path",{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}))):e("button",{type:"button",class:"btn-prev",onclick:function(e){t.goto(t.props.currentPage-1)}},e("svg",{viewBox:"64 64 896 896",class:"","data-icon":"left",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},e("path",{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"})))},r.prototype.getNext=function(){var t=this;return this.props.currentPage===this.pageNum-1?e("button",{type:"button",class:"btn-next",disabled:!0},e("svg",{viewBox:"64 64 896 896",class:"","data-icon":"right",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},e("path",{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"}))):e("button",{type:"button",class:"btn-next",onclick:function(e){t.goto(t.props.currentPage+1)}},e("svg",{viewBox:"64 64 896 896",class:"","data-icon":"right",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},e("path",{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"})))},r.prototype.getItem=function(t,n){var a=this;return this.props.currentPage===t?e("li",{class:"number active"},n):e("li",{class:"number",onclick:function(e){a.goto(t)}},n)},r.css="div {\n  color: rgba(0, 0, 0, 0.65); }\n\n* {\n  box-sizing: border-box; }\n\nul,\nli {\n  padding: 0;\n  margin: 0; }\n\nli {\n  display: inline-block;\n  min-width: 32px;\n  height: 32px;\n  border: 1px solid #ccc;\n  vertical-align: middle;\n  line-height: 32px;\n  text-align: center;\n  margin: 0 3px 0 3px;\n  cursor: pointer;\n  border-radius: 3px; }\n\n.o-pager {\n  display: inline-block; }\n\nbutton {\n  width: 32px;\n  height: 32px;\n  appearance: none;\n  -webkit-appearance: none;\n  border: 1px solid #ccc;\n  background: none;\n  border-radius: 3px;\n  cursor: pointer;\n  outline: none; }\n\nbutton.btn-next:not(disabled):active,\nbutton.btn-prev:not(disabled):active {\n  background-color: #eee; }\n\nbutton:disabled {\n  pointer-events: none;\n  border-color: #eee;\n  cursor: default; }\n\n.more:after {\n  content: '...'; }\n\n.more {\n  border: none;\n  cursor: default; }\n\n.active {\n  border-color: #07C160;\n  color: #04a150; }\n\nsvg {\n  position: relative;\n  top: 2px; }\n",r.defaultProps={total:0,pageSize:10,numDisplay:5,currentPage:0,numEdge:3,linkTo:"#",prevText:"Prev",nextText:"Next",ellipseText:"...",prevShow:!0,nextShow:!0},r.propTypes={total:Number,pageSize:Number,numDisplay:Number,currentPage:Number,numEdge:Number,linkTo:String,prevText:String,nextText:String,ellipseText:String,prevShow:Boolean,nextShow:Boolean},r=function(e,t,n,a){var r,i=arguments.length,o=i<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,n,o):r(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}([n("o-pagination")],r)}(a);var c=Object.defineProperty,d=Object.getOwnPropertyDescriptor;let l=class extends a{constructor(){super(...arguments),this.dataSource=[{id:1,name:"xwang",age:18,address:"Tencent"},{id:2,name:"dntzhang",age:12,address:"Tencent",$config:{bgColor:"rgb(247 176 176 / 32%)"}},{id:3,name:"lucy",age:12,address:"Tencent"},{id:4,name:"john",age:12,address:"Tencent",$config:{bgColor:"rgb(230 162 60 / 34%)"}},{id:5,name:"tim",age:12,address:"Tencent"},{id:6,name:"tim",age:12,address:"Tencent"},{id:7,name:"tim",age:12,address:"Tencent"},{id:8,name:"tim",age:12,address:"Tencent"},{id:1,name:"xwang",age:18,address:"Tencent"},{id:2,name:"dntzhang",age:12,address:"Tencent",$config:{bgColor:"rgb(247 176 176 / 32%)"}},{id:3,name:"lucy",age:12,address:"Tencent"},{id:4,name:"john",age:12,address:"Tencent",$config:{bgColor:"rgb(230 162 60 / 34%)"}},{id:5,name:"tim",age:12,address:"Tencent"},{id:6,name:"tim",age:12,address:"Tencent"},{id:7,name:"tim",age:12,address:"Tencent"},{id:8,name:"tim",age:12,address:"Tencent"}],this.columns=[{title:"ID",render:t=>e("strong",null,t.id)},{title:"Name",key:"name"},{title:"Age",key:"age"},{title:"Address",key:"address"},{title:"操作",align:"right",render:t=>e("o-tooltip",{content:"删除"+t.name},e("o-icon-delete",{"data-item-id":t.id,_onclick:this.onClick,style:"cursor:pointer;font-size:20px;"}))}],this.paging=!0,this.pageSize=5,this.currentPage=1,this.data={allData:this.dataSource,filterData:[],start:1,end:1,totalSize:this.dataSource.length,currPageSize:this.paging?this.pageSize:Number.MAX_SAFE_INTEGER,currentPage:this.currentPage},this.onClick=e=>{this.table.deleteRowById(e.currentTarget.dataset.itemId)}}handleSizeChange(e){this.currentPage=1,this.data.currPageSize=e,this.handleChange(!1)}handleCurrentChange(e){this.currentPage=e,this.handleChange(!1)}handleChange(e){e&&(this.currentPage=1),this.renderTable()}renderTable(){if(this.data.totalSize>this.data.currPageSize){let e=(this.currentPage-1)*this.data.currPageSize,t=this.currentPage*this.data.currPageSize;this.data.start=e+1,this.data.end=this.data.totalSize<t?this.data.totalSize:t,this.data.filterData=this.data.allData.slice(e,t)}else this.data.totalSize>0?(this.currentPage=1,this.data.start=1,this.data.end=this.data.totalSize,this.data.filterData=this.data.allData):(this.currentPage=1,this.data.start=0,this.data.end=0,this.data.filterData=[]);this.update()}setData(e){this.data.allData=e,this.data.totalSize=e.length,this.renderTable()}change(){this.renderTable()}deleteItemById(e){const t=this.dataSource.indexOf(this.dataSource.find((t=>t.id===e)));-1!==t&&this.dataSource.splice(t,1),this.update()}install(){this.setData(this.dataSource)}update(){}render(){return e("div",{class:r`pl-0.5`},e("div",{class:r`px-2`},e("o-table",{ref:e=>this.table=e,checkbox:!1,stripe:!1,border:!1,compact:!1,columns:this.columns,dataSource:this.data.filterData})))}};l.css=i.target,l=((e,t,n,a)=>{for(var r,i=a>1?void 0:a?d(t,n):t,o=e.length-1;o>=0;o--)(r=e[o])&&(i=(a?r(t,n,i):r(i))||i);return a&&i&&c(t,n,i),i})([n("pagination-table")],l);export default l;
