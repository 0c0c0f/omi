{"version":3,"file":"omi.dev.js","sources":["../src/options.js","../src/util.js","../src/h.js","../src/constants.js","../src/vdom/index.js","../src/extend.js","../src/dom/index.js","../src/vdom/diff.js","../src/we-element.js","../src/render.js","../src/define.js","../src/tag.js","../src/clone-element.js","../src/get-host.js","../src/rpx.js","../src/class.js","../src/o.js","../node_modules/construct-style-sheets-polyfill/dist/adoptedStyleSheets.js","../src/omi.js","../src/omi.js"],"sourcesContent":["function getGlobal() {\n\tif (\n\t\ttypeof global !== 'object' ||\n\t\t!global ||\n\t\tglobal.Math !== Math ||\n\t\tglobal.Array !== Array\n\t) {\n\t\treturn (\n\t\t\tself ||\n\t\t\twindow ||\n\t\t\tglobal ||\n\t\t\t(function () {\n\t\t\t\treturn this\n\t\t\t})()\n\t\t)\n\t}\n\treturn global\n}\n\n/** Global options\n *  @public\n *  @namespace options {Object}\n */\nexport default {\n\tstore: null,\n\troot: getGlobal(),\n\tmapping: {},\n}\n","/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * This shim allows elements written in, or compiled to, ES5 to work on native\n * implementations of Custom Elements v1. It sets new.target to the value of\n * this.constructor so that the native HTMLElement constructor can access the\n * current under-construction element's definition.\n */\n; (function () {\n\tif (\n\t\t// No Reflect, no classes, no need for shim because native custom elements\n\t\t// require ES2015 classes or Reflect.\n\t\twindow.Reflect === undefined ||\n\t\twindow.customElements === undefined ||\n\t\t// The webcomponentsjs custom elements polyfill doesn't require\n\t\t// ES2015-compatible construction (`super()` or `Reflect.construct`).\n\t\twindow.customElements.hasOwnProperty('polyfillWrapFlushCallback')\n\t) {\n\t\treturn\n\t}\n\tconst BuiltInHTMLElement = HTMLElement\n\twindow.HTMLElement = function HTMLElement() {\n\t\treturn Reflect.construct(BuiltInHTMLElement, [], this.constructor)\n\t}\n\tHTMLElement.prototype = BuiltInHTMLElement.prototype\n\tHTMLElement.prototype.constructor = HTMLElement\n\tObject.setPrototypeOf(HTMLElement, BuiltInHTMLElement)\n})()\n\nexport function cssToDom(css) {\n\tconst node = document.createElement('style')\n\tnode.textContent = css\n\treturn node\n}\n\nexport function camelCase(str) {\n\treturn str.replace(/-(\\w)/g, ($, $1) => {\n\t\treturn $1.toUpperCase()\n\t})\n}\n\nexport function Fragment(props) {\n\treturn props.children\n}\n\nexport function extend(obj, props) {\n\tfor (let i in props) obj[i] = props[i]\n\treturn obj\n}\n\n/** Invoke or update a ref, depending on whether it is a function or object ref.\n *  @param {object|function} [ref=null]\n *  @param {any} [value]\n */\nexport function applyRef(ref, value) {\n\tif (ref != null) {\n\t\tif (typeof ref == 'function') ref(value)\n\t\telse ref.current = value\n\t}\n}\n\n/**\n * Call a function asynchronously, as soon as possible. Makes\n * use of HTML Promise to schedule the callback if available,\n * otherwise falling back to `setTimeout` (mainly for IE<11).\n * @type {(callback: function) => void}\n */\nexport const defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.resolve().then.bind(Promise.resolve())\n\t\t: setTimeout\n\nexport function isArray(obj) {\n\treturn Object.prototype.toString.call(obj) === '[object Array]'\n}\n\n\nexport function pathToArr(path) {\n\tif (typeof path !== 'string' || !path) return []\n\t// return path.split(/\\.|\\[|\\]/).filter(name => !!name)\n\treturn path\n\t\t.replace(/]/g, '')\n\t\t.replace(/\\[/g, '.')\n\t\t.split('.')\n}\n\nconst hyphenateRE = /\\B([A-Z])/g\nexport function hyphenate(str) {\n\treturn str.replace(hyphenateRE, '-$1').toLowerCase()\n}\n\nexport function getValByPath(path, current) {\n\tconst arr = pathToArr(path)\n\tarr.forEach(prop => {\n\t\tcurrent = current[prop]\n\t})\n\treturn current\n}\n\n\nexport function removeItem(item, arr) {\n\tif (!arr) return\n\tfor (let i = 0, len = arr.length; i < len; i++) {\n\t\tif (arr[i] === item) {\n\t\t\tarr.splice(i, 1)\n\t\t\tbreak\n\t\t}\n\t}\n}\n","import options from './options'\nimport { Fragment } from './util'\n\nconst stack = []\n\nexport function h(nodeName, attributes) {\n  let children = [],\n    lastSimple,\n    child,\n    simple,\n    i\n  for (i = arguments.length; i-- > 2; ) {\n    stack.push(arguments[i])\n  }\n  if (attributes && attributes.children != null) {\n    if (!stack.length) stack.push(attributes.children)\n    delete attributes.children\n  }\n  while (stack.length) {\n    if ((child = stack.pop()) && child.pop !== undefined) {\n      for (i = child.length; i--; ) stack.push(child[i])\n    } else {\n      if (typeof child === 'boolean') child = null\n\n      if ((simple = typeof nodeName !== 'function')) {\n        if (child == null) child = ''\n        else if (typeof child === 'number') child = String(child)\n        else if (typeof child !== 'string') simple = false\n      }\n\n      if (simple && lastSimple) {\n        children[children.length - 1] += child\n      } else if (children.length === 0) {\n        children = [child]\n      } else {\n        children.push(child)\n      }\n\n      lastSimple = simple\n    }\n  }\n\n  if (nodeName === Fragment) {\n    return children\n  }\n\n  const p = {\n    nodeName,\n    children,\n    attributes: attributes == null ? undefined : attributes,\n    key: attributes == null ? undefined : attributes.key\n  }\n\n  // if a \"vnode hook\" is defined, pass every created VNode to it\n  if (options.vnode !== undefined) options.vnode(p)\n\n  return p\n}\n","// render modes\n\nexport const NO_RENDER = 0\nexport const SYNC_RENDER = 1\nexport const FORCE_RENDER = 2\nexport const ASYNC_RENDER = 3\n\nexport const ATTR_KEY = 'prevProps'\n\n// DOM properties that should NOT have \"px\" added when numeric\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i\n","import { extend } from '../util'\nimport options from '../options'\n/**\n * Check if two nodes are equivalent.\n *\n * @param {Node} node      DOM Node to compare\n * @param {VNode} vnode      Virtual DOM node to compare\n * @param {boolean} [hydrating=false]  If true, ignores component constructors when comparing.\n * @private\n */\nexport function isSameNodeType(node, vnode, hydrating) {\n  if (typeof vnode === 'string' || typeof vnode === 'number') {\n    return node.splitText !== undefined\n  }\n  if (typeof vnode.nodeName === 'string') {\n    return !node._componentConstructor && isNamedNode(node, vnode.nodeName)\n  } else if (typeof vnode.nodeName === 'function') {\n    return options.mapping[node.nodeName.toLowerCase()] === vnode.nodeName\n  }\n  return hydrating || node._componentConstructor === vnode.nodeName\n}\n\n/**\n * Check if an Element has a given nodeName, case-insensitively.\n *\n * @param {Element} node  A DOM Element to inspect the name of.\n * @param {String} nodeName  Unnormalized name to compare against.\n */\nexport function isNamedNode(node, nodeName) {\n  return (\n    node.normalizedNodeName === nodeName ||\n    node.nodeName.toLowerCase() === nodeName.toLowerCase()\n  )\n}\n\n/**\n * Reconstruct Component-style `props` from a VNode.\n * Ensures default/fallback values from `defaultProps`:\n * Own-properties of `defaultProps` not present in `vnode.attributes` are added.\n *\n * @param {VNode} vnode\n * @returns {Object} props\n */\nexport function getNodeProps(vnode) {\n  let props = extend({}, vnode.attributes)\n  props.children = vnode.children\n\n  let defaultProps = vnode.nodeName.defaultProps\n  if (defaultProps !== undefined) {\n    for (let i in defaultProps) {\n      if (props[i] === undefined) {\n        props[i] = defaultProps[i]\n      }\n    }\n  }\n\n  return props\n}\n","import { pathToArr } from './util'\n\nexport const extension = {}\n\nexport function extend(name, handler) {\n  extension['o-' + name] = handler\n}\n\nexport function set(origin, path, value) {\n  const arr = pathToArr(path)\n  let current = origin\n  for (let i = 0, len = arr.length; i < len; i++) {\n    if (i === len - 1) {\n      current[arr[i]] = value\n    } else {\n      current = current[arr[i]]\n    }\n  }\n}\n\nexport function get(origin, path) {\n  const arr = pathToArr(path)\n  let current = origin\n  for (let i = 0, len = arr.length; i < len; i++) {\n    current = current[arr[i]]\n  }\n\n  return current\n}\n\nfunction eventProxy(e) {\n  return this._listeners[e.type](e)\n}\n\nexport function bind(el, type, handler) {\n  el._listeners = el._listeners || {}\n  el._listeners[type] = handler\n  el.addEventListener(type, eventProxy)\n}\n\nexport function unbind(el, type) {\n  el.removeEventListener(type, eventProxy)\n}\n","import { IS_NON_DIMENSIONAL } from '../constants'\nimport { applyRef } from '../util'\nimport options from '../options'\nimport { extension } from '../extend'\n\n/**\n * Create an element with the given nodeName.\n * @param {string} nodeName The DOM node to create\n * @param {boolean} [isSvg=false] If `true`, creates an element within the SVG\n *  namespace.\n * @returns {Element} The created DOM node\n */\nexport function createNode(nodeName, isSvg) {\n  /** @type {Element} */\n  let node = isSvg\n    ? document.createElementNS('http://www.w3.org/2000/svg', nodeName)\n    : document.createElement(nodeName)\n  node.normalizedNodeName = nodeName\n  return node\n}\n\n/**\n * Remove a child node from its parent if attached.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n  let parentNode = node.parentNode\n  if (parentNode) parentNode.removeChild(node)\n}\n\n/**\n * Set a named attribute on the given Node, with special behavior for some names\n * and event handlers. If `value` is `null`, the attribute/handler will be\n * removed.\n * @param {Element} node An element to mutate\n * @param {string} name The name/key to set, such as an event or attribute name\n * @param {*} old The last value that was set for this name/node pair\n * @param {*} value An attribute value, such as a function to be used as an\n *  event handler\n * @param {boolean} isSvg Are we currently diffing inside an svg?\n * @private\n */\nexport function setAccessor(node, name, old, value, isSvg, component) {\n  if (name === 'className') name = 'class'\n\n  if (name[0] == 'o' && name[1] == '-') {\n    if (extension[name]) {\n      extension[name](node, value, component)\n    }\n  } else if (name === 'key') {\n    // ignore\n  } else if (name === 'ref') {\n    applyRef(old, null)\n    applyRef(value, node)\n  } else if (name === 'class' && !isSvg) {\n    node.className = value || ''\n  } else if (name === 'style') {\n    if (!value || typeof value === 'string' || typeof old === 'string') {\n      node.style.cssText = value || ''\n    }\n    if (value && typeof value === 'object') {\n      if (typeof old !== 'string') {\n        for (let i in old) if (!(i in value)) node.style[i] = ''\n      }\n      for (let i in value) {\n        node.style[i] =\n          typeof value[i] === 'number' && IS_NON_DIMENSIONAL.test(i) === false\n            ? value[i] + 'px'\n            : value[i]\n      }\n    }\n  } else if (name === 'dangerouslySetInnerHTML') {\n    if (value) node.innerHTML = value.__html || ''\n  } else if (\n    name[0] == '_' &&\n    name[1] == 'o' &&\n    name[2] == 'n' &&\n    node.constructor.is === 'WeElement'\n  ) {\n    bindEvent(node, name.replace('_', ''), value, old)\n  } else if (name[0] == 'o' && name[1] == 'n') {\n    bindEvent(node, name, value, old)\n  } else if (node.nodeName === 'INPUT' && name === 'value') {\n    node[name] = value == null ? '' : value\n  } else if (\n    name !== 'list' &&\n    name !== 'type' &&\n    name !== 'css' &&\n    !isSvg &&\n    name in node &&\n    value !== ''\n  ) {\n    //value !== '' fix for selected, disabled, checked with pure element\n    // Attempt to set a DOM property to the given value.\n    // IE & FF throw for certain property-value combinations.\n    try {\n      node[name] = value == null ? '' : value\n    } catch (e) {}\n    if ((value == null || value === false) && name != 'spellcheck')\n      node.pureRemoveAttribute\n        ? node.pureRemoveAttribute(name)\n        : node.removeAttribute(name)\n  } else {\n    let ns = isSvg && name !== (name = name.replace(/^xlink:?/, ''))\n    // spellcheck is treated differently than all other boolean values and\n    // should not be removed when the value is `false`. See:\n    // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-spellcheck\n    if (value == null || value === false) {\n      if (ns)\n        node.removeAttributeNS(\n          'http://www.w3.org/1999/xlink',\n          name.toLowerCase()\n        )\n      else\n        node.pureRemoveAttribute\n          ? node.pureRemoveAttribute(name)\n          : node.removeAttribute(name)\n    } else if (typeof value !== 'function') {\n      if (ns) {\n        node.setAttributeNS(\n          'http://www.w3.org/1999/xlink',\n          name.toLowerCase(),\n          value\n        )\n      } else {\n        node.pureSetAttribute\n          ? node.pureSetAttribute(name, value)\n          : node.setAttribute(name, value)\n      }\n    }\n  }\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n  return this._listeners[e.type]((options.event && options.event(e)) || e)\n}\n\nfunction bindEvent(node, name, value, old) {\n  let useCapture = name !== (name = name.replace(/Capture$/, ''))\n  let nameLower = name.toLowerCase()\n  name = (nameLower in node ? nameLower : name).slice(2)\n  if (value) {\n    if (!old) {\n      node.addEventListener(name, eventProxy, useCapture)\n    }\n  } else {\n    node.removeEventListener(name, eventProxy, useCapture)\n  }\n  ;(node._listeners || (node._listeners = {}))[name] = value\n}\n","import { ATTR_KEY } from '../constants'\nimport { isSameNodeType, isNamedNode } from './index'\nimport { createNode, setAccessor } from '../dom/index'\nimport { camelCase, isArray, Fragment } from '../util'\nimport { removeNode } from '../dom/index'\nimport options from '../options'\n\n/** Queue of components that have been mounted and are awaiting componentDidMount */\nexport const mounts = []\n\n/** Diff recursion count, used to track the end of the diff cycle. */\nexport let diffLevel = 0\n\n/** Global flag indicating if the diff is currently within an SVG */\nlet isSvgMode = false\n\n/** Global flag indicating if the diff is performing hydration */\nlet hydrating = false\n\n/** Apply differences in a given vnode (and it's deep children) to a real DOM Node.\n *  @param {Element} [dom=null]    A DOM node to mutate into the shape of the `vnode`\n *  @param {VNode} vnode      A VNode (with descendants forming a tree) representing the desired DOM structure\n *  @returns {Element} dom      The created/mutated element\n *  @private\n */\nexport function diff(dom, vnode, parent, component, updateSelf) {\n  //first render return undefined\n  if (!dom && !vnode) return\n  // diffLevel having been 0 here indicates initial entry into the diff (not a subdiff)\n  let ret\n  if (!diffLevel++) {\n    // when first starting the diff, check if we're diffing an SVG or within an SVG\n    isSvgMode = parent != null && parent.ownerSVGElement !== undefined\n\n    // hydration is indicated by the existing element to be diffed not having a prop cache\n    hydrating = dom != null && !(ATTR_KEY in dom)\n  }\n  if (vnode && vnode.nodeName === Fragment) {\n    vnode = vnode.children\n  }\n  if (isArray(vnode)) {\n    if (parent) {\n      //don't use css and props.css when using h.f\n      innerDiffNode(parent, vnode, hydrating, component, updateSelf)\n    } else {\n      ret = []\n      vnode.forEach((item, index) => {\n        let ele = idiff(index === 0 ? dom : null, item, component, updateSelf)\n        ret.push(ele)\n      })\n    }\n  } else {\n    if (isArray(dom)) {\n      dom.forEach((one, index) => {\n        if (index === 0) {\n          ret = idiff(one, vnode, component, updateSelf)\n        } else {\n          recollectNodeTree(one, false)\n        }\n      })\n    } else {\n      ret = idiff(dom, vnode, component, updateSelf)\n    }\n    // append the element if its a new parent\n    if (parent && ret.parentNode !== parent) parent.appendChild(ret)\n  }\n\n  // diffLevel being reduced to 0 means we're exiting the diff\n  if (!--diffLevel) {\n    hydrating = false\n    // invoke queued componentDidMount lifecycle methods\n  }\n\n  return ret\n}\n\n/** Internals of `diff()`, separated to allow bypassing diffLevel / mount flushing. */\nfunction idiff(dom, vnode, component, updateSelf) {\n  if (dom && vnode && dom.props) {\n    dom.props.children = vnode.children\n  }\n  let out = dom,\n    prevSvgMode = isSvgMode\n\n  // empty values (null, undefined, booleans) render as empty Text nodes\n  if (vnode == null || typeof vnode === 'boolean') vnode = ''\n\n  // Fast case: Strings & Numbers create/update Text nodes.\n  if (typeof vnode === 'string' || typeof vnode === 'number') {\n    // update if it's already a Text node:\n    if (\n      dom &&\n      dom.splitText !== undefined &&\n      dom.parentNode &&\n      (!dom._component || component)\n    ) {\n      /* istanbul ignore if */ /* Browser quirk that can't be covered: https://github.com/developit/preact/commit/fd4f21f5c45dfd75151bd27b4c217d8003aa5eb9 */\n      if (dom.nodeValue != vnode) {\n        dom.nodeValue = vnode\n      }\n    } else {\n      // it wasn't a Text node: replace it with one and recycle the old Element\n      out = document.createTextNode(vnode)\n      if (dom) {\n        if (dom.parentNode) dom.parentNode.replaceChild(out, dom)\n        recollectNodeTree(dom, true)\n      }\n    }\n\n    out[ATTR_KEY] = true\n\n    return out\n  }\n\n  // If the VNode represents a Component, perform a component diff:\n  let vnodeName = vnode.nodeName\n  if (typeof vnodeName === 'function') {\n    for (let key in options.mapping) {\n      if (options.mapping[key] === vnodeName) {\n        vnodeName = key\n        vnode.nodeName = key\n        break\n      }\n    }\n  }\n  // Tracks entering and exiting SVG namespace when descending through the tree.\n  isSvgMode =\n    vnodeName === 'svg'\n      ? true\n      : vnodeName === 'foreignObject'\n      ? false\n      : isSvgMode\n\n  // If there's no existing element or it's the wrong type, create a new one:\n  vnodeName = String(vnodeName)\n  if (!dom || !isNamedNode(dom, vnodeName)) {\n    out = createNode(vnodeName, isSvgMode)\n\n    if (dom) {\n      // move children into the replacement node\n      while (dom.firstChild) out.appendChild(dom.firstChild)\n\n      // if the previous Element was mounted into the DOM, replace it inline\n      if (dom.parentNode) dom.parentNode.replaceChild(out, dom)\n\n      // recycle the old element (skips non-Element node types)\n      recollectNodeTree(dom, true)\n    }\n  }\n\n  let fc = out.firstChild,\n    props = out[ATTR_KEY],\n    vchildren = vnode.children\n\n  if (props == null) {\n    props = out[ATTR_KEY] = {}\n    for (let a = out.attributes, i = a.length; i--; )\n      props[a[i].name] = a[i].value\n  }\n\n  // Optimization: fast-path for elements containing a single TextNode:\n  if (\n    !hydrating &&\n    vchildren &&\n    vchildren.length === 1 &&\n    typeof vchildren[0] === 'string' &&\n    fc != null &&\n    fc.splitText !== undefined &&\n    fc.nextSibling == null\n  ) {\n    if (fc.nodeValue != vchildren[0]) {\n      fc.nodeValue = vchildren[0]\n    }\n  }\n  // otherwise, if there are existing or new children, diff them:\n  else if ((vchildren && vchildren.length) || fc != null) {\n    if (!(out.constructor.is == 'WeElement' && out.constructor.noSlot)) {\n      innerDiffNode(\n        out,\n        vchildren,\n        hydrating || props.dangerouslySetInnerHTML != null,\n        component,\n        updateSelf\n      )\n    }\n  }\n\n  // Apply attributes/props from VNode to the DOM Element:\n  diffAttributes(out, vnode.attributes, props, component, updateSelf)\n  if (out.props) {\n    out.props.children = vnode.children\n  }\n  // restore previous SVG mode: (in case we're exiting an SVG namespace)\n  isSvgMode = prevSvgMode\n\n  return out\n}\n\n/** Apply child and attribute changes between a VNode and a DOM Node to the DOM.\n *  @param {Element} dom      Element whose children should be compared & mutated\n *  @param {Array} vchildren    Array of VNodes to compare to `dom.childNodes`\n *  @param {Boolean} isHydrating  If `true`, consumes externally created elements similar to hydration\n */\nfunction innerDiffNode(dom, vchildren, isHydrating, component, updateSelf) {\n  let originalChildren = dom.childNodes,\n    children = [],\n    keyed = {},\n    keyedLen = 0,\n    min = 0,\n    len = originalChildren.length,\n    childrenLen = 0,\n    vlen = vchildren ? vchildren.length : 0,\n    j,\n    c,\n    f,\n    vchild,\n    child\n\n  // Build up a map of keyed children and an Array of unkeyed children:\n  if (len !== 0) {\n    for (let i = 0; i < len; i++) {\n      let child = originalChildren[i],\n        props = child[ATTR_KEY],\n        key =\n          vlen && props\n            ? child._component\n              ? child._component.__key\n              : props.key\n            : null\n      if (key != null) {\n        keyedLen++\n        keyed[key] = child\n      } else if (\n        props ||\n        (child.splitText !== undefined\n          ? isHydrating\n            ? child.nodeValue.trim()\n            : true\n          : isHydrating)\n      ) {\n        children[childrenLen++] = child\n      }\n    }\n  }\n\n  if (vlen !== 0) {\n    for (let i = 0; i < vlen; i++) {\n      vchild = vchildren[i]\n      child = null\n\n      if (vchild) {\n        // attempt to find a node based on key matching\n        let key = vchild.key\n        if (key != null) {\n          if (keyedLen && keyed[key] !== undefined) {\n            child = keyed[key]\n            keyed[key] = undefined\n            keyedLen--\n          }\n        }\n        // attempt to pluck a node of the same type from the existing children\n        else if (!child && min < childrenLen) {\n          for (j = min; j < childrenLen; j++) {\n            if (\n              children[j] !== undefined &&\n              isSameNodeType((c = children[j]), vchild, isHydrating)\n            ) {\n              child = c\n              children[j] = undefined\n              if (j === childrenLen - 1) childrenLen--\n              if (j === min) min++\n              break\n            }\n          }\n        }\n      }\n\n      // morph the matched/found/created DOM child to match vchild (deep)\n      child = idiff(child, vchild, component, updateSelf)\n\n      f = originalChildren[i]\n      if (child && child !== dom && child !== f) {\n        if (f == null) {\n          dom.appendChild(child)\n        } else if (child === f.nextSibling) {\n          removeNode(f)\n        } else {\n          dom.insertBefore(child, f)\n        }\n      }\n    }\n  }\n\n  // remove unused keyed children:\n  if (keyedLen) {\n    for (let i in keyed)\n      if (keyed[i] !== undefined) recollectNodeTree(keyed[i], false)\n  }\n\n  // remove orphaned unkeyed children:\n  while (min <= childrenLen) {\n    if ((child = children[childrenLen--]) !== undefined)\n      recollectNodeTree(child, false)\n  }\n}\n\n/** Recursively recycle (or just unmount) a node and its descendants.\n *  @param {Node} node            DOM node to start unmount/removal from\n *  @param {Boolean} [unmountOnly=false]  If `true`, only triggers unmount lifecycle, skips removal\n */\nexport function recollectNodeTree(node, unmountOnly) {\n  // If the node's VNode had a ref function, invoke it with null here.\n  // (this is part of the React spec, and smart for unsetting references)\n  if (node[ATTR_KEY] != null && node[ATTR_KEY].ref) {\n    if (typeof node[ATTR_KEY].ref === 'function') {\n      node[ATTR_KEY].ref(null)\n    } else if (node[ATTR_KEY].ref.current) {\n      node[ATTR_KEY].ref.current = null\n    }\n  }\n\n  if (unmountOnly === false || node[ATTR_KEY] == null) {\n    removeNode(node)\n  }\n\n  removeChildren(node)\n}\n\n/** Recollect/unmount all children.\n *  - we use .lastChild here because it causes less reflow than .firstChild\n *  - it's also cheaper than accessing the .childNodes Live NodeList\n */\nexport function removeChildren(node) {\n  node = node.lastChild\n  while (node) {\n    let next = node.previousSibling\n    recollectNodeTree(node, true)\n    node = next\n  }\n}\n\n/** Apply differences in attributes from a VNode to the given DOM Element.\n *  @param {Element} dom    Element with attributes to diff `attrs` against\n *  @param {Object} attrs    The desired end-state key-value attribute pairs\n *  @param {Object} old      Current/previous attributes (from previous VNode or element's prop cache)\n */\nfunction diffAttributes(dom, attrs, old, component, updateSelf) {\n  let name\n  //let update = false\n  let isWeElement = dom.update\n  let oldClone\n  if (dom.receiveProps) {\n    oldClone = Object.assign({}, old)\n  }\n  // remove attributes no longer present on the vnode by setting them to undefined\n  for (name in old) {\n    if (!(attrs && attrs[name] != null) && old[name] != null) {\n      setAccessor(\n        dom,\n        name,\n        old[name],\n        (old[name] = undefined),\n        isSvgMode,\n        component\n      )\n      if (isWeElement) {\n        delete dom.props[name]\n        //update = true\n      }\n    }\n  }\n\n  // add new & update changed attributes\n  for (name in attrs) {\n    if (isWeElement && typeof attrs[name] === 'object' && name !== 'ref') {\n      if (name === 'style') {\n        setAccessor(\n          dom,\n          name,\n          old[name],\n          (old[name] = attrs[name]),\n          isSvgMode,\n          component\n        )\n      }\n      let ccName = camelCase(name)\n      dom.props[ccName] = old[ccName] = attrs[name]\n      //update = true\n    } else if (\n      name !== 'children' &&\n      (!(name in old) ||\n        attrs[name] !==\n          (name === 'value' || name === 'checked' ? dom[name] : old[name]))\n    ) {\n      setAccessor(dom, name, old[name], attrs[name], isSvgMode, component)\n      //fix lazy load props missing\n      if (dom.nodeName.indexOf('-') !== -1) {\n        dom.props = dom.props || {}\n        let ccName = camelCase(name)\n        dom.props[ccName] = old[ccName] = attrs[name]\n        //update = true\n      } else {\n        old[name] = attrs[name]\n      }\n    }\n  }\n\n  if (isWeElement && !updateSelf && dom.parentNode) {\n    //__hasChildren is not accuracy when it was empty at first, so add dom.children.length > 0 condition\n    //if (update || dom.__hasChildren || dom.children.length > 0 || (dom.store && !dom.store.data)) {\n    if (dom.receiveProps(dom.props, oldClone) !== false) {\n      dom.update()\n    }\n    //}\n  }\n}\n","import {\n\tcssToDom,\n\tisArray,\n\thyphenate,\n\tgetValByPath,\n\tremoveItem\n} from './util'\nimport { diff } from './vdom/diff'\nimport options from './options'\n\nlet id = 0\n\nexport default class WeElement extends HTMLElement {\n\tstatic is = 'WeElement'\n\n\tconstructor() {\n\t\tsuper()\n\t\t// fix lazy load props missing\n\t\tthis.props = Object.assign({}, this.constructor.defaultProps, this.props)\n\t\tthis.elementId = id++\n\t\tthis.computed = {}\n\t\tthis.isInstalled = false\n\t}\n\n\tconnectedCallback() {\n\t\tlet p = this.parentNode\n\t\twhile (p && !this.store) {\n\t\t\tthis.store = p.store\n\t\t\tp = p.parentNode || p.host\n\t\t}\n\n\t\tthis.attrsToProps()\n\n\n\n\n\t\tthis.beforeInstall()\n\t\tthis.install()\n\t\tthis.afterInstall()\n\n\t\tlet shadowRoot\n\t\tif (this.constructor.isLightDom) {\n\t\t\tshadowRoot = this\n\t\t} else {\n\t\t\tif (!this.shadowRoot) {\n\t\t\t\tshadowRoot = this.attachShadow({\n\t\t\t\t\tmode: 'open'\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tshadowRoot = this.shadowRoot\n\t\t\t\tlet fc\n\t\t\t\twhile ((fc = shadowRoot.firstChild)) {\n\t\t\t\t\tshadowRoot.removeChild(fc)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst css = this.constructor.css\n\t\tif (css) {\n\t\t\tif (typeof css === 'string') {\n\t\t\t\tconst styleSheet = new CSSStyleSheet()\n\t\t\t\tstyleSheet.replaceSync(css)\n\t\t\t\tshadowRoot.adoptedStyleSheets = [styleSheet]\n\t\t\t} else if (Object.prototype.toString.call(css) === '[object Array]') {\n\t\t\t\tconst styleSheets = []\n\t\t\t\tcss.forEach(styleSheet => {\n\t\t\t\t\tif (typeof styleSheet === 'string') {\n\t\t\t\t\t\tconst adoptedStyleSheet = new CSSStyleSheet()\n\t\t\t\t\t\tadoptedStyleSheet.replaceSync(styleSheet)\n\t\t\t\t\t\tstyleSheets.push(adoptedStyleSheet)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstyleSheets.push(styleSheet)\n\t\t\t\t\t}\n\t\t\t\t\tshadowRoot.adoptedStyleSheets = styleSheets\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tshadowRoot.adoptedStyleSheets = [css]\n\t\t\t}\n\t\t}\n\n\t\tthis.beforeRender()\n\t\toptions.afterInstall && options.afterInstall(this)\n\n\t\tconst rendered = this.render(this.props, this.store)\n\n\t\tthis.rootNode = diff(null, rendered, null, this)\n\t\tthis.rendered()\n\n\t\tif (this.css) {\n\t\t\tshadowRoot.appendChild(\n\t\t\t\tcssToDom(typeof this.css === 'function' ? this.css() : this.css)\n\t\t\t)\n\t\t}\n\n\t\tif (this.props.css) {\n\t\t\tthis._customStyleElement = cssToDom(this.props.css)\n\t\t\tthis._customStyleContent = this.props.css\n\t\t\tshadowRoot.appendChild(this._customStyleElement)\n\t\t}\n\n\t\tif (isArray(this.rootNode)) {\n\t\t\tthis.rootNode.forEach(function (item) {\n\t\t\t\tshadowRoot.appendChild(item)\n\t\t\t})\n\t\t} else {\n\t\t\tthis.rootNode && shadowRoot.appendChild(this.rootNode)\n\t\t}\n\t\tthis.installed()\n\t\tthis.isInstalled = true\n\t}\n\n\tdisconnectedCallback() {\n\t\tthis.uninstall()\n\t\tthis.isInstalled = false\n\n\t}\n\n\tupdate(ignoreAttrs, updateSelf) {\n\t\tthis._willUpdate = true\n\t\tthis.beforeUpdate()\n\t\tthis.beforeRender()\n\t\t//fix null !== undefined\n\t\tif (this._customStyleContent != this.props.css) {\n\t\t\tthis._customStyleContent = this.props.css\n\t\t\tthis._customStyleElement.textContent = this._customStyleContent\n\t\t}\n\t\tthis.attrsToProps(ignoreAttrs)\n\n\t\tconst rendered = this.render(this.props, this.store)\n\t\tthis.rendered()\n\n\t\tthis.rootNode = diff(\n\t\t\tthis.rootNode,\n\t\t\trendered,\n\t\t\tthis.constructor.isLightDom ? this : this.shadowRoot,\n\t\t\tthis,\n\t\t\tupdateSelf\n\t\t)\n\t\tthis._willUpdate = false\n\t\tthis.updated()\n\t}\n\n\tforceUpdate() {\n\t\tthis.update(true)\n\t}\n\n\tupdateProps(obj) {\n\t\tObject.keys(obj).forEach(key => {\n\t\t\tthis.props[key] = obj[key]\n\t\t\tif (this.prevProps) {\n\t\t\t\tthis.prevProps[key] = obj[key]\n\t\t\t}\n\t\t})\n\t\tthis.forceUpdate()\n\t}\n\n\tupdateSelf(ignoreAttrs) {\n\t\tthis.update(ignoreAttrs, true)\n\t}\n\n\tremoveAttribute(key) {\n\t\tsuper.removeAttribute(key)\n\t\t//Avoid executing removeAttribute methods before connectedCallback\n\t\tthis.isInstalled && this.update()\n\t}\n\n\tsetAttribute(key, val) {\n\t\tif (val && typeof val === 'object') {\n\t\t\tsuper.setAttribute(key, JSON.stringify(val))\n\t\t} else {\n\t\t\tsuper.setAttribute(key, val)\n\t\t}\n\t\t//Avoid executing setAttribute methods before connectedCallback\n\t\tthis.isInstalled && this.update()\n\t}\n\n\tpureRemoveAttribute(key) {\n\t\tsuper.removeAttribute(key)\n\t}\n\n\tpureSetAttribute(key, val) {\n\t\tsuper.setAttribute(key, val)\n\t}\n\n\tattrsToProps(ignoreAttrs) {\n\t\tif (\n\t\t\tignoreAttrs ||\n\t\t\t(this.store && this.store.ignoreAttrs) ||\n\t\t\tthis.props.ignoreAttrs\n\t\t)\n\t\t\treturn\n\t\tconst ele = this\n\t\tele.props['css'] = ele.getAttribute('css')\n\t\tconst attrs = this.constructor.propTypes\n\t\tif (!attrs) return\n\t\tObject.keys(attrs).forEach(key => {\n\t\t\tconst type = attrs[key]\n\t\t\tconst val = ele.getAttribute(hyphenate(key))\n\t\t\tif (val !== null) {\n\t\t\t\tswitch (type) {\n\t\t\t\t\tcase String:\n\t\t\t\t\t\tele.props[key] = val\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase Number:\n\t\t\t\t\t\tele.props[key] = Number(val)\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase Boolean:\n\t\t\t\t\t\tif (val === 'false' || val === '0') {\n\t\t\t\t\t\t\tele.props[key] = false\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tele.props[key] = true\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase Array:\n\t\t\t\t\tcase Object:\n\t\t\t\t\t\tif (val[0] === ':') {\n\t\t\t\t\t\t\tele.props[key] = getValByPath(val.substr(1), Omi.$)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tele.props[key] = JSON.parse(\n\t\t\t\t\t\t\t\tval\n\t\t\t\t\t\t\t\t\t.replace(/(['\"])?([a-zA-Z0-9_-]+)(['\"])?:([^\\/])/g, '\"$2\":$4')\n\t\t\t\t\t\t\t\t\t.replace(/'([\\s\\S]*?)'/g, '\"$1\"')\n\t\t\t\t\t\t\t\t\t.replace(/,(\\s*})/g, '$1')\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tele.constructor.defaultProps &&\n\t\t\t\t\tele.constructor.defaultProps.hasOwnProperty(key)\n\t\t\t\t) {\n\t\t\t\t\tele.props[key] = ele.constructor.defaultProps[key]\n\t\t\t\t} else {\n\t\t\t\t\tele.props[key] = null\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\tfire(name, data) {\n\t\tthis.dispatchEvent(\n\t\t\tnew CustomEvent(name, {\n\t\t\t\tdetail: data\n\t\t\t})\n\t\t)\n\t}\n\n\tbeforeInstall() { }\n\n\tinstall() { }\n\n\tafterInstall() { }\n\n\tinstalled() { }\n\n\tuninstall() { }\n\n\tbeforeUpdate() { }\n\n\tupdated() { }\n\n\tbeforeRender() { }\n\n\trendered() { }\n\n\treceiveProps() { }\n}\n","import { diff } from './vdom/diff'\n\nexport function render(vnode, parent, store) {\n\tparent = typeof parent === 'string' ? document.querySelector(parent) : parent\n\tif (store) {\n\t\tparent.store = store\n\t}\n\treturn diff(null, vnode, parent, false)\n}\n\n\n\n","import WeElement from './we-element'\nimport options from './options'\n\nconst storeHelpers = ['use', 'useSelf']\n\nexport function define(name, ctor, config) {\n  if (customElements.get(name)) {\n    return\n  }\n  if (options.mapping[name]) {\n    return\n  }\n  if (ctor.is === 'WeElement') {\n    customElements.define(name, ctor)\n    options.mapping[name] = ctor\n  } else {\n    if (typeof config === 'string') {\n      config = { css: config }\n    } else {\n      config = config || {}\n    }\n\n    class Ele extends WeElement {\n      static css = config.css\n\n      static propTypes = config.propTypes\n\n      static defaultProps = config.defaultProps\n\n      static isLightDom = config.isLightDom\n\n      compute = config.compute\n\n      render() {\n        return ctor.call(this, this)\n      }\n    }\n\n    for (let key in config) {\n      if (typeof config[key] === 'function') {\n        Ele.prototype[key] = function() {\n          return config[key].apply(this, arguments)\n        }\n      }\n    }\n\n    storeHelpers.forEach(func => {\n      if (config[func] && config[func] !== 'function') {\n        Ele.prototype[func] = function() {\n          return config[func]\n        }\n      }\n    })\n\n    customElements.define(name, Ele)\n    options.mapping[name] = Ele\n  }\n}\n","import { define } from './define'\n\nexport function tag(name) {\n  return function(target) {\n    define(name, target)\n  }\n}\n","import { extend } from './util'\nimport { h } from './h'\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {VNode} vnode    The virtual DOM element to clone\n * @param {Object} props  Attributes/props to add when cloning\n * @param {VNode} rest    Any additional arguments will be used as replacement children.\n */\nexport function cloneElement(vnode, props) {\n  return h(\n    vnode.nodeName,\n    extend(extend({}, vnode.attributes), props),\n    arguments.length > 2 ? [].slice.call(arguments, 2) : vnode.children\n  )\n}\n","export function getHost(ele) {\n  let p = ele.parentNode\n  while (p) {\n    if (p.host) {\n      return p.host\n    } else if (p.shadowRoot && p.shadowRoot.host) {\n      return p.shadowRoot.host\n    } else {\n      p = p.parentNode\n    }\n  }\n}\n","export function rpx(css) {\n  return css.replace(/([1-9]\\d*|0)(\\.\\d*)*rpx/g, (a, b) => {\n    return (window.innerWidth * Number(b)) / 750 + 'px'\n  })\n}\n","/**\n * classNames based on https://github.com/JedWatson/classnames\n * by Jed Watson\n * Licensed under the MIT License\n * https://github.com/JedWatson/classnames/blob/master/LICENSE\n * modified by dntzhang\n */\n\nvar hasOwn = {}.hasOwnProperty\n\nexport function classNames() {\n  var classes = []\n\n  for (var i = 0; i < arguments.length; i++) {\n    var arg = arguments[i]\n    if (!arg) continue\n\n    var argType = typeof arg\n\n    if (argType === 'string' || argType === 'number') {\n      classes.push(arg)\n    } else if (Array.isArray(arg) && arg.length) {\n      var inner = classNames.apply(null, arg)\n      if (inner) {\n        classes.push(inner)\n      }\n    } else if (argType === 'object') {\n      for (var key in arg) {\n        if (hasOwn.call(arg, key) && arg[key]) {\n          classes.push(key)\n        }\n      }\n    }\n  }\n\n  return classes.join(' ')\n}\n\nexport function extractClass() {\n  const [props, ...args] = Array.prototype.slice.call(arguments, 0)\n  if (props.class) {\n    args.unshift(props.class)\n    delete props.class\n  } else if (props.className) {\n    args.unshift(props.className)\n    delete props.className\n  }\n  if (args.length > 0) {\n    return { class: classNames.apply(null, args) }\n  }\n}\n","export function o(obj) {\n  return JSON.stringify(obj)\n}\n","(function () {\n    'use strict';\n\n    if ('adoptedStyleSheets' in document) { return; }\n\n    var hasShadyCss = 'ShadyCSS' in window && !ShadyCSS.nativeShadow;\n    var bootstrapper = document.implementation.createHTMLDocument('boot');\n    var closedShadowRootRegistry = new WeakMap();\n    var _DOMException = typeof DOMException === 'object' ? Error : DOMException;\n\n    var defineProperty = Object.defineProperty;\n    var forEach = Array.prototype.forEach;\n    var importPattern = /@import.+?;?$/gm;\n    function rejectImports(contents) {\n        var _contents = contents.replace(importPattern, '');\n        if (_contents !== contents) {\n            console.warn('@import rules are not allowed here. See https://github.com/WICG/construct-stylesheets/issues/119#issuecomment-588352418');\n        }\n        return _contents.trim();\n    }\n    function clearRules(sheet) {\n        for (var i = 0; i < sheet.cssRules.length; i++) {\n            sheet.deleteRule(0);\n        }\n    }\n    function insertAllRules(from, to) {\n        forEach.call(from.cssRules, function (rule, i) {\n            to.insertRule(rule.cssText, i);\n        });\n    }\n    function isElementConnected(element) {\n        return 'isConnected' in element\n            ? element.isConnected\n            : document.contains(element);\n    }\n    function unique(arr) {\n        return arr.filter(function (value, index) { return arr.indexOf(value) === index; });\n    }\n    function diff(arr1, arr2) {\n        return arr1.filter(function (value) { return arr2.indexOf(value) === -1; });\n    }\n    function removeNode(node) {\n        node.parentNode.removeChild(node);\n    }\n    function getShadowRoot(element) {\n        return element.shadowRoot || closedShadowRootRegistry.get(element);\n    }\n\n    var cssStyleSheetMethods = [\n        'addImport',\n        'addPageRule',\n        'addRule',\n        'deleteRule',\n        'insertRule',\n        'removeImport',\n        'removeRule',\n    ];\n    var NonConstructedStyleSheet = CSSStyleSheet;\n    var nonConstructedProto = NonConstructedStyleSheet.prototype;\n    nonConstructedProto.replace = function () {\n        return Promise.reject(new _DOMException(\"Can't call replace on non-constructed CSSStyleSheets.\"));\n    };\n    nonConstructedProto.replaceSync = function () {\n        throw new _DOMException(\"Failed to execute 'replaceSync' on 'CSSStyleSheet': Can't call replaceSync on non-constructed CSSStyleSheets.\");\n    };\n    function isCSSStyleSheetInstance(instance) {\n        return typeof instance === 'object'\n            ? proto$2.isPrototypeOf(instance) ||\n                nonConstructedProto.isPrototypeOf(instance)\n            : false;\n    }\n    function isNonConstructedStyleSheetInstance(instance) {\n        return typeof instance === 'object'\n            ? nonConstructedProto.isPrototypeOf(instance)\n            : false;\n    }\n    var $basicStyleSheet = new WeakMap();\n    var $locations = new WeakMap();\n    var $adoptersByLocation = new WeakMap();\n    function addAdopterLocation(sheet, location) {\n        var adopter = document.createElement('style');\n        $adoptersByLocation.get(sheet).set(location, adopter);\n        $locations.get(sheet).push(location);\n        return adopter;\n    }\n    function getAdopterByLocation(sheet, location) {\n        return $adoptersByLocation.get(sheet).get(location);\n    }\n    function removeAdopterLocation(sheet, location) {\n        $adoptersByLocation.get(sheet).delete(location);\n        $locations.set(sheet, $locations.get(sheet).filter(function (_location) { return _location !== location; }));\n    }\n    function restyleAdopter(sheet, adopter) {\n        requestAnimationFrame(function () {\n            clearRules(adopter.sheet);\n            insertAllRules($basicStyleSheet.get(sheet), adopter.sheet);\n        });\n    }\n    function checkInvocationCorrectness(self) {\n        if (!$basicStyleSheet.has(self)) {\n            throw new TypeError('Illegal invocation');\n        }\n    }\n    function ConstructedStyleSheet() {\n        var self = this;\n        var style = document.createElement('style');\n        bootstrapper.body.appendChild(style);\n        $basicStyleSheet.set(self, style.sheet);\n        $locations.set(self, []);\n        $adoptersByLocation.set(self, new WeakMap());\n    }\n    var proto$2 = ConstructedStyleSheet.prototype;\n    proto$2.replace = function replace(contents) {\n        try {\n            this.replaceSync(contents);\n            return Promise.resolve(this);\n        }\n        catch (e) {\n            return Promise.reject(e);\n        }\n    };\n    proto$2.replaceSync = function replaceSync(contents) {\n        checkInvocationCorrectness(this);\n        if (typeof contents === 'string') {\n            var self_1 = this;\n            var style = $basicStyleSheet.get(self_1).ownerNode;\n            style.textContent = rejectImports(contents);\n            $basicStyleSheet.set(self_1, style.sheet);\n            $locations.get(self_1).forEach(function (location) {\n                if (location.isConnected()) {\n                    restyleAdopter(self_1, getAdopterByLocation(self_1, location));\n                }\n            });\n        }\n    };\n    defineProperty(proto$2, 'cssRules', {\n        configurable: true,\n        enumerable: true,\n        get: function cssRules() {\n            checkInvocationCorrectness(this);\n            return $basicStyleSheet.get(this).cssRules;\n        },\n    });\n    cssStyleSheetMethods.forEach(function (method) {\n        proto$2[method] = function () {\n            var self = this;\n            checkInvocationCorrectness(self);\n            var args = arguments;\n            var basic = $basicStyleSheet.get(self);\n            var locations = $locations.get(self);\n            var result = basic[method].apply(basic, args);\n            locations.forEach(function (location) {\n                if (location.isConnected()) {\n                    var sheet = getAdopterByLocation(self, location).sheet;\n                    sheet[method].apply(sheet, args);\n                }\n            });\n            return result;\n        };\n    });\n    defineProperty(ConstructedStyleSheet, Symbol.hasInstance, {\n        configurable: true,\n        value: isCSSStyleSheetInstance,\n    });\n\n    var defaultObserverOptions = {\n        childList: true,\n        subtree: true,\n    };\n    var locations = new WeakMap();\n    function getAssociatedLocation(element) {\n        var location = locations.get(element);\n        if (!location) {\n            location = new Location(element);\n            locations.set(element, location);\n        }\n        return location;\n    }\n    function attachAdoptedStyleSheetProperty(constructor) {\n        defineProperty(constructor.prototype, 'adoptedStyleSheets', {\n            configurable: true,\n            enumerable: true,\n            get: function () {\n                return getAssociatedLocation(this).sheets;\n            },\n            set: function (sheets) {\n                getAssociatedLocation(this).update(sheets);\n            },\n        });\n    }\n    function traverseWebComponents(node, callback) {\n        var iter = document.createNodeIterator(node, NodeFilter.SHOW_ELEMENT, function (foundNode) {\n            return getShadowRoot(foundNode)\n                ? NodeFilter.FILTER_ACCEPT\n                : NodeFilter.FILTER_REJECT;\n        },\n        null, false);\n        for (var next = void 0; (next = iter.nextNode());) {\n            callback(getShadowRoot(next));\n        }\n    }\n    var $element = new WeakMap();\n    var $uniqueSheets = new WeakMap();\n    var $observer = new WeakMap();\n    function isExistingAdopter(self, element) {\n        return (element instanceof HTMLStyleElement &&\n            $uniqueSheets.get(self).some(function (sheet) { return getAdopterByLocation(sheet, self); }));\n    }\n    function getAdopterContainer(self) {\n        var element = $element.get(self);\n        return element instanceof Document ? element.body : element;\n    }\n    function adopt(self) {\n        var styleList = document.createDocumentFragment();\n        var sheets = $uniqueSheets.get(self);\n        var observer = $observer.get(self);\n        var container = getAdopterContainer(self);\n        observer.disconnect();\n        sheets.forEach(function (sheet) {\n            styleList.appendChild(getAdopterByLocation(sheet, self) || addAdopterLocation(sheet, self));\n        });\n        container.insertBefore(styleList, null);\n        observer.observe(container, defaultObserverOptions);\n        sheets.forEach(function (sheet) {\n            restyleAdopter(sheet, getAdopterByLocation(sheet, self));\n        });\n    }\n    function Location(element) {\n        var self = this;\n        self.sheets = [];\n        $element.set(self, element);\n        $uniqueSheets.set(self, []);\n        $observer.set(self, new MutationObserver(function (mutations, observer) {\n            if (!document) {\n                observer.disconnect();\n                return;\n            }\n            mutations.forEach(function (mutation) {\n                if (!hasShadyCss) {\n                    forEach.call(mutation.addedNodes, function (node) {\n                        if (!(node instanceof Element)) {\n                            return;\n                        }\n                        traverseWebComponents(node, function (root) {\n                            getAssociatedLocation(root).connect();\n                        });\n                    });\n                }\n                forEach.call(mutation.removedNodes, function (node) {\n                    if (!(node instanceof Element)) {\n                        return;\n                    }\n                    if (isExistingAdopter(self, node)) {\n                        adopt(self);\n                    }\n                    if (!hasShadyCss) {\n                        traverseWebComponents(node, function (root) {\n                            getAssociatedLocation(root).disconnect();\n                        });\n                    }\n                });\n            });\n        }));\n    }\n    var proto$1 = Location.prototype;\n    proto$1.isConnected = function isConnected() {\n        var element = $element.get(this);\n        return element instanceof Document\n            ? element.readyState !== 'loading'\n            : isElementConnected(element.host);\n    };\n    proto$1.connect = function connect() {\n        var container = getAdopterContainer(this);\n        $observer.get(this).observe(container, defaultObserverOptions);\n        if ($uniqueSheets.get(this).length > 0) {\n            adopt(this);\n        }\n        traverseWebComponents(container, function (root) {\n            getAssociatedLocation(root).connect();\n        });\n    };\n    proto$1.disconnect = function disconnect() {\n        $observer.get(this).disconnect();\n    };\n    proto$1.update = function update(sheets) {\n        var self = this;\n        var locationType = $element.get(self) === document ? 'Document' : 'ShadowRoot';\n        if (!Array.isArray(sheets)) {\n            throw new TypeError(\"Failed to set the 'adoptedStyleSheets' property on \" + locationType + \": Iterator getter is not callable.\");\n        }\n        if (!sheets.every(isCSSStyleSheetInstance)) {\n            throw new TypeError(\"Failed to set the 'adoptedStyleSheets' property on \" + locationType + \": Failed to convert value to 'CSSStyleSheet'\");\n        }\n        if (sheets.some(isNonConstructedStyleSheetInstance)) {\n            throw new TypeError(\"Failed to set the 'adoptedStyleSheets' property on \" + locationType + \": Can't adopt non-constructed stylesheets\");\n        }\n        self.sheets = sheets;\n        var oldUniqueSheets = $uniqueSheets.get(self);\n        var uniqueSheets = unique(sheets);\n        var removedSheets = diff(oldUniqueSheets, uniqueSheets);\n        removedSheets.forEach(function (sheet) {\n            removeNode(getAdopterByLocation(sheet, self));\n            removeAdopterLocation(sheet, self);\n        });\n        $uniqueSheets.set(self, uniqueSheets);\n        if (self.isConnected() && uniqueSheets.length > 0) {\n            adopt(self);\n        }\n    };\n\n    window.CSSStyleSheet = ConstructedStyleSheet;\n    attachAdoptedStyleSheetProperty(Document);\n    if ('ShadowRoot' in window) {\n        attachAdoptedStyleSheetProperty(ShadowRoot);\n        var proto = Element.prototype;\n        var attach_1 = proto.attachShadow;\n        proto.attachShadow = function attachShadow(init) {\n            var root = attach_1.call(this, init);\n            if (init.mode === 'closed') {\n                closedShadowRootRegistry.set(this, root);\n            }\n            return root;\n        };\n    }\n    var documentLocation = getAssociatedLocation(document);\n    if (documentLocation.isConnected()) {\n        documentLocation.connect();\n    }\n    else {\n        document.addEventListener('DOMContentLoaded', documentLocation.connect.bind(documentLocation));\n    }\n\n}());\n","import { h, h as createElement } from './h'\nimport options from './options'\nimport WeElement from './we-element'\nimport { render } from './render'\nimport { define } from './define'\nimport { tag } from './tag'\nimport { cloneElement } from './clone-element'\nimport { getHost } from './get-host'\nimport { rpx } from './rpx'\nimport { classNames, extractClass } from './class'\nimport { o } from './o'\nimport { extend, get, set, bind, unbind } from './extend'\nimport { Fragment } from './util'\nimport 'construct-style-sheets-polyfill'\n\nh.f = Fragment\n\nfunction createRef() {\n\treturn {}\n}\n\nconst $ = {}\nconst Component = WeElement\nconst defineElement = define\nconst elements = options.mapping\n\nconst omi = {\n\ttag,\n\tWeElement,\n\tComponent,\n\trender,\n\th,\n\tcreateElement,\n\toptions,\n\tdefine,\n\tcloneElement,\n\tgetHost,\n\trpx,\n\tdefineElement,\n\tclassNames,\n\textractClass,\n\tcreateRef,\n\to,\n\telements,\n\t$,\n\textend,\n\tget,\n\tset,\n\tbind,\n\tunbind\n}\n\noptions.root.Omi = omi\noptions.root.omi = omi\noptions.root.Omi.version = '6.20.0'\n\nexport default omi\n\nexport {\n\ttag,\n\tWeElement,\n\tComponent,\n\trender,\n\th,\n\tcreateElement,\n\toptions,\n\tdefine,\n\tcloneElement,\n\tgetHost,\n\trpx,\n\tdefineElement,\n\tclassNames,\n\textractClass,\n\tcreateRef,\n\to,\n\telements,\n\t$,\n\textend,\n\tget,\n\tset,\n\tbind,\n\tunbind\n}\n","\n\t\t\t\timport Omi from './omi';\n\t\t\t\tif (typeof module!='undefined') module.exports = Omi;\n\t\t\t\telse self.Omi = Omi;\n\t\t\t"],"names":["getGlobal","global","Math","Array","self","window","store","root","mapping","Reflect","undefined","customElements","hasOwnProperty","BuiltInHTMLElement","HTMLElement","construct","constructor","prototype","Object","setPrototypeOf","cssToDom","css","node","document","createElement","textContent","camelCase","str","replace","$","$1","toUpperCase","Fragment","props","children","extend","obj","i","applyRef","ref","value","current","defer","Promise","resolve","then","bind","setTimeout","isArray","toString","call","pathToArr","path","split","hyphenateRE","hyphenate","toLowerCase","getValByPath","arr","forEach","prop","stack","h","nodeName","attributes","lastSimple","child","simple","arguments","length","push","pop","String","p","key","options","vnode","ATTR_KEY","IS_NON_DIMENSIONAL","isSameNodeType","hydrating","splitText","_componentConstructor","isNamedNode","normalizedNodeName","extension","name","handler","set","origin","len","get","eventProxy","e","_listeners","type","el","addEventListener","unbind","removeEventListener","createNode","isSvg","createElementNS","removeNode","parentNode","removeChild","setAccessor","old","component","className","style","cssText","test","innerHTML","__html","is","bindEvent","pureRemoveAttribute","removeAttribute","ns","removeAttributeNS","setAttributeNS","pureSetAttribute","setAttribute","event","useCapture","nameLower","slice","diffLevel","isSvgMode","diff","dom","parent","updateSelf","ret","ownerSVGElement","innerDiffNode","item","index","ele","idiff","one","recollectNodeTree","appendChild","out","prevSvgMode","_component","nodeValue","createTextNode","replaceChild","vnodeName","firstChild","fc","vchildren","a","nextSibling","noSlot","dangerouslySetInnerHTML","diffAttributes","isHydrating","originalChildren","childNodes","keyed","keyedLen","min","childrenLen","vlen","j","c","f","vchild","__key","trim","insertBefore","unmountOnly","removeChildren","lastChild","next","previousSibling","attrs","isWeElement","update","oldClone","receiveProps","assign","ccName","indexOf","id","WeElement","defaultProps","elementId","computed","isInstalled","connectedCallback","host","attrsToProps","beforeInstall","install","afterInstall","shadowRoot","isLightDom","attachShadow","mode","styleSheet","CSSStyleSheet","replaceSync","adoptedStyleSheets","styleSheets","adoptedStyleSheet","beforeRender","rendered","render","rootNode","_customStyleElement","_customStyleContent","installed","disconnectedCallback","uninstall","ignoreAttrs","_willUpdate","beforeUpdate","updated","forceUpdate","updateProps","keys","prevProps","val","JSON","stringify","getAttribute","propTypes","Number","Boolean","substr","Omi","parse","fire","data","dispatchEvent","CustomEvent","detail","querySelector","storeHelpers","define","ctor","config","Ele","compute","apply","func","tag","target","cloneElement","getHost","rpx","b","innerWidth","hasOwn","classNames","classes","arg","argType","inner","join","extractClass","args","class","unshift","o","createRef","Component","defineElement","elements","omi","version","module","exports"],"mappings":"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"}