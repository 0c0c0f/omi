{"version":3,"sources":["../src/util.js","../src/h.js","../src/vdom/index.js","../src/extend.js","../src/dom/index.js","../src/vdom/diff.js","../src/we-element.js","../src/render.js","../src/define.js","../src/clone-element.js","../src/get-host.js","../src/class.js","../node_modules/construct-style-sheets-polyfill/dist/adoptedStyleSheets.js","../src/options.js","../src/o.js","../src/omi.js"],"names":["cssToDom","css","node","document","createElement","textContent","camelCase","str","replace","$1","toUpperCase","Fragment","props","children","extend","obj","i","applyRef","ref","value","current","isArray","Object","prototype","toString","call","pathToArr","path","split","hyphenate","hyphenateRE","toLowerCase","getValByPath","forEach","prop","h","nodeName","attributes","lastSimple","child","simple","arguments","length","stack","push","pop","String","p","key","options","vnode","isSameNodeType","_componentConstructor","splitText","mapping","hydrating","extend$1","name","handler","extension","origin","set","arr","get","e","type","eventProxy","el","_listeners","addEventListener","createNode","removeNode","setAccessor","component","old","isSvg","style","cssText","IS_NON_DIMENSIONAL","test","innerHTML","constructor","is","bindEvent","pureRemoveAttribute","removeAttribute","ns","removeAttributeNS","pureSetAttribute","setAttribute","className","useCapture","event","nameLower","eventProxy$1","ret","diffLevel","isSvgMode","parent","ownerSVGElement","dom","innerDiffNode","updateSelf","item","index","ele","one","idiff","recollectNodeTree","parentNode","appendChild","out","nodeValue","createTextNode","replaceChild","vnodeName","prevProps","vchildren","firstChild","fc","a","nextSibling","noSlot","dangerouslySetInnerHTML","diffAttributes","prevSvgMode","min","len","childrenLen","vlen","j","keyedLen","originalChildren","keyed","vchild","_child","_component","__key","trim","isHydrating","c","f","unmountOnly","ATTR_KEY","removeChildren","oldClone","assign","receiveProps","isWeElement","attrs","ccName","indexOf","_ccName","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","HTMLElement","WeElement","diff","_classCallCheck$1","_possibleConstructorReturn$1","ctor","customElements","config","define","Ele","_WeElement","_temp","_this","_ret","_len","args","Array","this","apply","concat","compute","propTypes","defaultProps","isLightDom","storeHelpers","func","target","cloneElement","getHost","host","shadowRoot","rpx","b","window","innerWidth","classNames","classes","argType","arg","inner","join","_Array$prototype$slic","slice","class","unshift","o","JSON","stringify","createRef","store","root","global","Math","Reflect","hasOwnProperty","BuiltInHTMLElement","construct","setPrototypeOf","Promise","resolve","then","bind","setTimeout","_HTMLElement","elementId","id","computed","isInstalled","connectedCallback","attrsToProps","beforeInstall","install","afterInstall","attachShadow","removeChild","mode","replaceSync","adoptedStyleSheets","styleSheet","styleSheets","CSSStyleSheet","adoptedStyleSheet","rootNode","rendered","_customStyleContent","_customStyleElement","installed","disconnectedCallback","uninstall","update","ignoreAttrs","beforeUpdate","_willUpdate","beforeRender","forceUpdate","updated","_this2","updateProps","val","keys","getAttribute","Number","Boolean","substr","Omi","$","parse","fire","data","dispatchEvent","CustomEvent","detail","_contents","contents","importPattern","console","warn","clearRules","sheet","cssRules","deleteRule","insertAllRules","from","to","rule","insertRule","isElementConnected","element","isConnected","contains","unique","filter","arr1","arr2","getShadowRoot","closedShadowRootRegistry","isCSSStyleSheetInstance","proto$2","isPrototypeOf","nonConstructedProto","isNonConstructedStyleSheetInstance","addAdopterLocation","location","adopter","$adoptersByLocation","$locations","getAdopterByLocation","removeAdopterLocation","delete","_location","restyleAdopter","requestAnimationFrame","$basicStyleSheet","checkInvocationCorrectness","has","ConstructedStyleSheet","bootstrapper","body","WeakMap","getAssociatedLocation","locations","Location","attachAdoptedStyleSheetProperty","defineProperty","configurable","enumerable","sheets","traverseWebComponents","callback","iter","createNodeIterator","NodeFilter","SHOW_ELEMENT","foundNode","FILTER_ACCEPT","FILTER_REJECT","next","nextNode","isExistingAdopter","HTMLStyleElement","$uniqueSheets","some","getAdopterContainer","$element","Document","adopt","styleList","createDocumentFragment","observer","$observer","container","disconnect","insertBefore","observe","defaultObserverOptions","MutationObserver","mutations","mutation","hasShadyCss","addedNodes","Element","connect","removedNodes","ShadyCSS","nativeShadow","implementation","createHTMLDocument","cssStyleSheetMethods","NonConstructedStyleSheet","reject","_DOMException","self_1","ownerNode","rejectImports","method","basic","result","Symbol","hasInstance","childList","subtree","proto$1","readyState","locationType","every","oldUniqueSheets","uniqueSheets","proto","attach_1","init","documentLocation","Component","defineElement","elements","omi","render","tag","extractClass","unbind","version","module","exports"],"mappings":"wBAqCO,SAASA,GAASC,GAClBC,GAAAA,GAAOC,SAASC,cAAc,QAEpC,OADAF,GAAKG,YAALJ,EACAC,EAGM,QAASI,GAAUC,GACzB,MAAWC,GAAAA,QAAQ,SAAU,SAAIC,EAAOA,GAChCA,MAAGC,GAAAA,gBAIL,QAASC,GAASC,GACxB,MAAOA,GAAMC,SAGP,QAASC,GAAOC,EAAKH,GAC3B,IAASI,GAATA,KAAcJ,GAAOG,EAASH,GAAAA,EAATI,EACrB,OAAAD,GAOM,QAASE,GAASC,EAAKC,GAC7B,MAAID,IACe,kBAAAA,GAAgBC,EAAlCA,GACSC,EAAJA,QAAAD,GAeA,QAASE,GAAQN,GACvB,MAA+C,mBAAxCO,OAAOC,UAAUC,SAAjBC,KAAAV,GAID,QAASW,GAAUC,GACrB,MAAgB,gBAAhBA,IAAJA,EAEOA,EACLnB,QADK,KAELA,IAAAA,QAAQ,MAFH,KAGLoB,MAHF,QAOM,QAASC,GAAUtB,GACzB,MAAWC,GAAAA,QAAQsB,EAAa,OAAOC,cAGjC,QAASC,GAAaL,EAAMP,GAKlC,MAJYM,GAAAC,GACRM,QAAQ,SAAAC,GACXd,EAAUA,EAAVc,KAEMd,ECnGD,QAAAe,GAAWC,EAAUC,GAC1B,GACEC,GACAC,EACAC,EACAxB,EAJEH,IAKJ,KAAKG,EAAIyB,UAAUC,OAAQ1B,KAA3B,GACE2B,EAAMC,KAAKH,UAAAzB,GAETqB,IAAqC,MAAvBA,EAAWxB,WACtB8B,EAAMD,QAAQC,EAAMC,KAAKP,EAAWxB,gBAClCwB,GAAWxB,SAEpB,OAAO8B,EAAMD,OACX,IAAKH,EAAQI,EAAME,YAAAA,KAAUN,EAAMM,IACjC,IAAK7B,EAAIuB,EAAMG,OAAQ1B,KAAO2B,EAAMC,KAAKL,EAAAvB,QAEpB,iBAAVuB,KAAqBA,EAAQ,OAEnCC,EAA6B,kBAAbJ,MACN,MAATG,EAAeA,EAAQ,GACD,gBAAVA,GAAoBA,GAAQO,GAClB,gBAAVP,KAAoBC,GAAAA,IAGlCA,GAAUF,EACZzB,EAASA,EAAS6B,OAAlB,IAAiCH,EAC5B,IAAI1B,EAAS6B,OAClB7B,GAAY0B,GAEZ1B,EAAS+B,KAAKL,GAGhBD,EAAaE,CAIjB,IAAIJ,IAAazB,EACf,MAAOE,EAGT,IAAMkC,IACJX,SAAAA,EACAvB,SAAAA,EACAwB,WAA0B,MAAdA,MAAAA,GAAiCA,EAC7CW,IAAmB,MAAdX,MAAAA,GAAiCA,EAAWW,IAMnD,YAFA,KAAIC,EAAQC,OAAqBD,EAAQC,MAARH,GAEjCA,sFC9CmCG,gBAArBC,GAAAA,UACHD,EAAPE,uBAAoCF,EAAUhD,EAAlDgD,EAA4Dd,UAC1D,kBAAYiB,GAALjB,SACRa,EAAAK,QAAApD,EAAAkC,SAAAL,iBAAAmB,EAAAd,SAECmB,GAAaH,EAAAA,wBAAqClD,EAAMgD,qGAkB3D,QAAAM,GAAAC,EAAAC,eC7BM,QAAS5C,GAAAA,EAATa,EAAsB+B,UAC3BC,GAAUjC,EAAVC,GACDP,EAAAwC,yBAEeC,IAAID,EAAQjC,EACpBmC,EAAMpC,EAAAA,IAAUC,EAEjBP,EAAAA,EAAiB0C,EAAIpB,IAKvB,QAAAqB,GAAAH,EAAAjC,UACFmC,GAAApC,EAAAC,GACFP,EAAAwC,yBAEMxC,EAAawC,EAAQjC,EAAMX,GAGhC,OAAKI,iBAIL,MAAOA,MAAAA,IAAP4C,EAAAC,MAAAD,GAGF,QAASE,GAAAA,EAATD,EAAuBP,GACrBS,EAAAC,IAAYA,EAAAA,QACbD,EAAAC,IAAAH,GAAAP,0BAICS,QAAGC,GAAWH,EAAdA,GACAE,EAAGE,oBAAHJ,EAA0BC,6GCzBrB,+BAASI,EAShB,QAAAC,GAAArE,uHAqBgBsE,EAAAA,IACVf,EAASA,GAAAvD,EAAauD,EAAOgB,OAE7BhB,IAAA,QAAAA,OAEAE,IAAgBzD,QAAhByD,EACD1C,EAAAyD,EAAA,MAHHzD,EAIWwC,EAAAA,OACT,IAAA,UAAAA,GAAAkB,EAEA1D,GAAA,UAASyD,GAEJ,GADLzD,GAAA,gBAAAE,IAAA,gBAAAuD,KAFKxE,EAGA0E,MAAInB,QAAStC,GAAYwD,IAEzBxD,GAAsB,gBAATA,GAAS,CAC3B,GAAqBA,gBAAPuD,GACZxE,IAAK0E,GAAMC,KAAAA,GACZ7D,IAAAG,KAAAjB,EAAA0E,MAAA5D,GAAA,GAGG,KAAA,GAAKA,KAALG,GAAmBjB,EAAI0E,MAAE5D,GAA6B,gBAAhBd,GAAK0E,KAAAA,IAALE,EAAAC,KAAA/D,GAAAG,EAAAH,GAAA,KAAAG,EAAAH,QAExC,IAAcG,4BAATsC,EACHvD,IAAK0E,EAALI,UACS7D,EAAMH,QAAO,QAGvB,IAAA,KAAAyC,EAAA,IAAA,KAAAA,EAAA,IAAA,KAAAA,EAAA,IAAA,cAAAvD,EAAA+E,YAAAC,GACFC,EAAAjF,EAAAuD,EAAAjD,QAAA,IAAA,IAAAW,EAAAuD,OACI,IAAa,KAATjB,EAAAA,IAAS,KAAAA,EAAA,GAClB0B,EAAWjF,EAAK8E,EAAAA,EAAY7D,OACvB,IAELsC,UADAA,EAAArB,UAEAqB,UADWA,EAIX0B,EAAAA,GAAqB3E,MAArBW,EAA6B,GAAKA,MAC7B,IAAI,SAAAsC,GAA6B,SAAXA,GAAgB,QAAAA,IAAAkB,GAAAlB,IAAAvD,IAAA,KAAAiB,EAAA,CAEtC,IAULjB,EAAAuD,GAAA,MAAAtC,EAAA,GAAAA,EACA,MAAA6C,IACA,MAAA7C,IAAAA,IAAAA,GAAA,cAAAsC,IAAAvD,EAAAkF,oBAAAlF,EAAAkF,oBAAA3B,GAAAvD,EAAAmF,gBAAA5B,QACI,CACFvD,GAAAA,GAAKuD,GAAQtC,KAAAsC,EAAqBtC,EAAlCX,QAAA,WAAA,IAOOmE,OAALW,IAAAA,IAAc7B,EAClB6B,EAAApF,EAAAqF,kBAAA,+BAAA9B,EAAA1B,eAAA7B,EAAAkF,oBAAAlF,EAAAkF,oBAAA3B,GAAAvD,EAAAmF,gBAAA5B,GACA,kBAAAtC,KACAmE,EACInE,EAAAA,eAAiBA,+BAAiBsC,EAAA1B,cAAAZ,GAAtCjB,EAUOsF,iBAAqBtF,EAAAsF,iBAAY/B,EAAAtC,GAAAjB,EAAAuF,aAAAhC,EAAAtC,QApEnCjB,GAEAwF,UAAavE,GAAO,iEAuF7B,QAAS+C,GAAAA,EAAcT,EAAAtC,EAAAuD,GACrB,GAAAiB,GAAYvB,KAAaH,EAAOhB,EAAQ2C,QAAS3C,WAAQ2C,KAC1DC,EAAApC,EAAA1B,sCAEDZ,EACMwE,GACAE,EAAAA,iBAAiB9D,EAAL+D,EAAhBH,GAGEzF,EAAKwE,oBAAKjB,EAAAqC,EAAAH,IAETzF,EAAAkE,MAAAlE,EAAAkE,SAAAX,GAAAtC,iCC5HE,GAAA4E,EA4CHxC,OA3CFyC,OAEAC,EAAA,MAAAC,OAAAA,KAAAA,EAAAC,gBAGE5C,EAAA,MAAA6C,KAAA,aAAAA,yBAGAlD,EAAAA,EAAArC,UAEDQ,EAAA6B,GACGA,EAEHmD,EAAAH,EAAAhD,EAAAK,EAAAkB,EAAA6B,IAECP,KACE7C,EAAAjB,QAAA,SAAAsE,EAAAC,GACAH,GAAAA,GAAAA,EAA6B9C,IAAf2C,EAAe3C,EAA7B,KAAwCkB,EAAW6B,EAAnDA,EAFFP,GAGOnD,KAAA6D,OAIHV,EAASU,GAFXL,EAAAnE,QAAA,SAAAyE,EAAAF,GAID,IAAAA,EACIT,EAAAY,EAAAD,EAAAxD,EAAAuB,EAAA6B,GAECrE,EAASyE,GAAAA,KAITE,EAAAA,EAAAA,EAAAA,EAAAnC,EAAA6B,GALNJ,GAQOH,EAAAc,aAAAX,GAAAA,EAAAY,YAAAf,MAIHG,IACL3C,GAAAA,GAICA,GAIF,QAAOwC,GAAPK,EAAAlD,EAAAuB,EAAA6B,GACDF,GAAAlD,GAAAkD,EAAAxF,QAAAA,EAAAA,MAAAA,SAAAA,EAAAA,SAGD,IAAAmG,GAASJ,EACHP,EAAAH,CAMJ,IAHA,MAAIc,GAAJ,iBAAA7D,KAAAA,EAAA,IAGA,gBAAAA,IAAA,gBAAAA,GAuBG,iEAnBCkD,EAAOlD,WAAUA,IACnBkD,EAAAY,UAAA9D,IASIkD,EAAIY,SAAJC,eAAA/D,GACDkD,IACIA,EAAAS,YAAAT,EAAAS,WAAAK,aAAAH,EAAAX,GACLQ,EAAAR,GAAAA,KAIEQ,EAAAA,WAAAA,EAEHG,CAID,IAAAI,GAAAjE,EAAAd,QACD,IAAA,kBAAA+E,GAAAA,IAAAA,GAAAA,KAAAA,GAAAA,QAED,GAAAlE,EAAAK,QAAAN,KAAAmE,EAAA,CACIA,EAAYjE,EACZA,EAAOiE,SAAPnE,CACG,OASPiD,GAJKA,EAAA,QAAAkB,GAAA,kBAAAA,GAAAlB,EAGLkB,GAAArE,KACAmD,IACEkB,EAAcf,EAAde,eAOFA,GAAYrE,CAEViE,MAAMzC,EAAAA,WAAAA,EAAAA,YAAAA,EAAAA,WAGJ8B,GAAAS,YAAAT,EAAAS,WAAAK,aAAAH,EAAAX,GADOQ,EAAAR,GAAAA,GAQPQ,GAAAA,GAAAA,EAAAA,WACDhG,EAAAmG,EAAAK,UACFC,EAAAnE,EAAArC,QAED,IAAayG,MAATC,EAASD,CAAb1G,EACEA,EADFwG,YAAA,KAEEC,GAAAA,GAAYnE,EAAAA,WAFdlC,EAAAwG,EAAA9E,OAAA1B,KAAAA,EAAAA,EAAAA,GAAAA,MAAAA,EAAAA,GAAAA,MAyCC,OAnCCuC,GAAA8D,GAAA,IAAAA,EAAA3E,QAAA,gBAAA2E,GAAA,IAAA,MAAAE,OAAAA,KAAAA,EAAAlE,WAAA,MAAAkE,EAAAE,YAEDF,EAAAP,WAAAK,EAAA,KAAAE,EAAAP,UAAAK,EAAA,KAaML,GAAYK,EAAf3E,QAAA,MAAA6E,KACD,aAAAR,EAAA9B,YAAAC,IAAA6B,EAAA9B,YAAAyC,QACFrB,EAAAU,EAAAM,EAAA9D,GAAA,MAAA3C,EAAA+G,wBAAAlD,EAAA6B,IAWEsB,EAAAb,EAAA7D,EAAAb,WAAAzB,EAAA6D,EAAA6B,GACFS,EAAAnG,QAAAA,EAAAA,MAAAA,SAAAA,EAAAA,UAIDqF,EAAA4B,EAECd,2BAiBCe,GACAC,EACAC,EACAC,EACAC,EAAAA,EAAAA,EAAAA,WAAAA,KAAAA,KATJC,EAAS9B,EACH+B,EAAAA,EACFvH,EAAAA,EADF6B,OAEE2F,EAFF,EAGEF,EAAAA,EAHFd,EAAA3E,OAAA,CAAA,IAWE4F,IAAAA,EAXF,IAYE/F,GAAAA,GAAAA,EAZFvB,EAAA+G,EAAA/G,IAAA,YAcAJ,EAAA2H,EAAAnB,UACIW,EAAWE,GAAArH,EAAA2H,EAAAC,WAAAD,EAAAC,WAAAC,IAAA7H,EAAAoC,IAAA,IACb,OAAKA,GACHmF,IAAAE,EACEzH,GAAQ2B,IAEN0F,QAAAA,KAAQrH,EACJ2B,WACQiG,GADRD,EAEE3H,UACF8H,OAPRC,MAQA9H,EAAWmH,KAAMO,GAYhB,GAAA,IAAAN,EACF,IAAA,GAAAjH,GAAA,EAAAA,EAAAiH,EAAAjH,IAAA,CAID,GAHDsH,EAAAjB,EAAArG,UAGMsH,EAAL,CAEE/F,GAAAA,GAAA+F,EAAAtF,eAEIsF,OAAAA,KAAQD,EAAArF,KACVT,EAAA8F,EAAArF,GACIA,EAAMsF,OAAAA,GACNtF,SAIAmF,KAAAA,GAAAA,EAAAA,EACD,IAAAD,EAAAJ,EAAAI,EAAAF,EAAAE,IACF,OAAA,KAAArH,EAAAqH,IAAA/E,EAAAyF,EAAA/H,EAAAqH,GAAAI,EAAAK,GAAA,CACDpG,EAAAqG,EACS/H,EAAAqH,OAAAA,GACEJ,IAAKI,EAAd,GAA+BA,IAE3BrH,IAASqH,GAATJ,GAGAvF,QAOLA,EAAAoE,EAAApE,EAAA+F,EAAA7D,EAAA6B,UAGH/D,GAAAA,IAAA6D,GAAA7D,IAAAsG,IACQlC,MAARpE,EAAAA,EAAAA,YAAAA,GAEI6F,IAAJS,EAAApB,YACIlF,EAASA,GAET6D,EAAIU,aAAYvE,EAAhBsG,IAOL,GAAAV,EACF,IAAA,GAAAnH,KAAAqH,OAAAA,KAAAA,EAAAA,IAAAA,EAAAA,EAAAA,IAAAA,EAIC,OAAAP,GAAAE,MAED,MAAAzF,EAAA1B,EAAAmH,OAAApB,EAAArE,GAAAA,GASH,QAAAqE,GAAA1G,EAAA4I,wCAIwCA,kBAAxBlC,GAATQ,UAAiC0B,IACtC5I,EAAAkH,UAAAlG,IAAA,MACAhB,EAAAkH,UAAAlG,IAAAE,UACIlB,EAAAkH,UAAkBlG,IAAlBE,QAA+B2H,QAI/B7I,IAAAA,GAAA,MAAAA,EAAAkH,WACD7C,EAAArE,GAGH8I,EAAIF,GAON,QAAAE,GAAA9I,iDAIO0G,GAAA1G,GAAAA,GACLA,EAAOA,+BAaT+I,YACMxF,GAAAA,eACJwF,EAAA3H,OAAA4H,UAAAxE,GAGA,KAAI0B,IAAI+C,GACNF,GAA6BvE,MAAlBpD,EAAO4H,IAAlB,MAAAxE,EAAAjB,KACDe,EAAA4B,EAAA3C,EAAAiB,EAAAjB,GAAAiB,EAAAjB,OAAAA,GAAAwC,EAAAxB,GACD2E,SACa1E,GAAK9D,MAAA6C,GAcf,KAAAA,IAAA4F,GACF,GAAAD,GAAA,gBAAAC,GAAA5F,IAAA,QAAAA,EAAA,cAEDe,EAAA4B,EAAA3C,EAAAiB,EAAAjB,GAAAiB,EAAAjB,GAAA4F,EAAA5F,GAAAwC,EAAAxB,EAEE,IAAI2E,GAAAA,EAAsBC,EACxBjD,GAAI3C,MAAAA,GAAJiB,EAAsB4E,GAAAD,EAAA5F,OASrB,MAAA,aAAAA,GAAAA,IAAAiB,IAAA2E,EAAA5F,MAAA,UAAAA,GAAA,YAAAA,EAAA2C,EAAA3C,GAAAiB,EAAAjB,KAGD,GAFAe,EAAalE,EAAAA,EAAUmD,EAAvBA,GAAA4F,EAAA5F,GAAAwC,EAAAxB,IAEA,IAAA2B,EAAAhE,SAAAmH,QAAA,KAAA,CAbFnD,EAcOxF,MACL6C,EAAS7C,SAKT4D,IAAAA,GAAiBf,EAAUA,EAC3B2C,GAAAxF,MAAA4I,GAAA9E,EAAA8E,GAAAH,EAAA5F,OAGEiB,GAAI4E,GAAAA,EAAShJ,EAKd8I,KAAA9C,GAAAF,EAAAS,aAAAA,IAAAA,EAAAA,aAAAA,EAAAA,MAAAA,IAIDuC,EAAAA,SAMF,QAAAK,GAAAC,EAAAC,GAAA,KAAAD,YAAAC,IAAA,KAAA,IAAAC,WAAA,qCAEH,QAAAC,GAAAC,EAAArI,GAAA,IAAAqI,EAAA,KAAA,IAAAC,gBAAA,4DAAA,QAAAtI,GAAA,gBAAAA,IAAA,kBAAAA,GAAAqI,EAAArI,qUCnZsCuI,GAAAA,EAAAA,EAAAA,GCTtC9D,wDDSoB+D,IAAAA,EAAAA,MAAAA,GCTXC,EAAOhE,KAAPhD,EAAkBgD,GAAAA,GAG1B,QAAAiE,GAAAT,EAAAC,GAAA,KAAAD,YAAAC,IAAA,KAAA,IAAAC,WAAA,qCAED,QAAAQ,GAAAN,EAAArI,GAAA,IAAAqI,EAAA,KAAA,IAAAC,gBAAA,4DAAA,QAAAtI,GAAA,gBAAAA,IAAA,kBAAAA,GAAAqI,EAAArI,2WCHMwB,EAAAK,QAAsB+G,GAG1B,GAAA,cAAAA,EAAAnF,GACDoF,eAAYhH,OAAZG,EAA2B4G,GACzBpH,EAAAK,QAAAG,GAAA4G,MACD,CAECC,EADc,gBAAZC,IACFD,IAAeE,GAEVD,KACL,IAAAE,GAEO,SAAAC,gBAIDD,GAPDE,GAAAC,EAAAC,WAAA,KAAA,GAAAC,GAAArI,UAAAC,OAAAqI,EAAAC,MAAAF,GAAA9H,EAAA,EAAAA,EAAA8H,EAAA9H,IAAAA,EAAAA,GAAAA,UAAAA,EAAA,OAAA2H,GAAAC,EAAAR,EAAAa,KAAAP,EAAAjJ,KAAAyJ,MAAAR,GAAAO,MAAAE,OAAAJ,KAAAH,EAAAQ,QAAAb,EAAAa,QAAAP,EAAAF,EAAAP,EAAAQ,EAAAC,GAAA,MAIHN,GAASA,EAAAA,iCAJN,MAAAF,GAAA5I,KAAAwJ,KAAAA,OAAAR,GAmBDR,gBAnBCQ,EAAAY,UAAAd,EAAAc,UAAAZ,EAOaR,aAPbM,EAAAe,sCA2BA,KAFD,GAAAtI,KAAAuH,IAzBC,SAUuBc,GAEGC,kBAAtBA,GAAef,KAEfgB,EAAAA,UAAahB,GAAOgB,gDAc1BvI,EALHwI,IAAAvJ,QAAA,SAAwBwJ,GAAAlB,EAAAkB,IAAA,aAAAlB,EAAAkB,KAMvBhB,EAAAlJ,UAAAkK,GAAA,2BAMInB,eAFDE,OAAA/G,EAAAgH,GAGDxH,EAAAK,QAAAG,GAAAgH,GAIHxH,QAAAA,GAAQK,GACT,MAAA,UAAAoI,GACFlB,EAAA/G,EAAAiI,0HChDM,QAASC,GAAAA,GACd,GAAA5I,GACEG,EAAAA,UAIH,OAAAH,EAAAA,CAAAA,GAAAA,EAAAA,KAAAA,MCfe6I,GAATC,IACGpF,IAAII,EAAAA,YAAZ9D,EAAA+I,WAAAD,KACA,MAAU9I,GAAA+I,WAAAD,IAEN9I,GAAAA,EAAOA,YAKR,QAAAgJ,GAAA9L,GACF,MAAAA,GAAAO,QAAA,2BAAA,SAAAgH,EAAAwE,GACF,MAAAC,QAAAC,YAAAF,EAAA,IAAA,6DCDM,GAASG,GAAAA,UAAanL,EAC3B,IAAIoL,EAAJ,CAEA,GAAKC,SAAe5J,EAElB,IAAU,WAAL6J,GAAK,WAAAD,EAAAA,EAAAA,KAAAA,OAENA,IAAAA,MAAUhL,QAAdiL,IAAAA,EAAA5J,OAAA,sBAEI2J,IACFD,EAAQxJ,KAAR2J,OAEIA,IAAQJ,WAARI,EACJ,IAAIA,GAAJvJ,KAAWsJ,GACTF,GAAA3K,KAAa8K,EAAbvJ,IAAAsJ,EAAAtJ,IACDoJ,EAAAxJ,KAAAI,IAMA,MAAAoJ,GAAAI,KAAA,kBAIL,GAAAC,GAAAzB,MAAAzJ,UAAAmL,MAAAjL,KAAAgB,UAAA,GACD7B,EAAA6L,EAAA,GAAA1B,EAAA0B,EAAAC,MAAA,EAIC,IAF6B9L,EAAA+L,OAAA5B,EACtBnK,QADsBA,EAAA+L,aAAA/L,GAAA+L,qBAE7B5B,EAAInK,QAAJA,EAAiB8E,iBACVkH,GAAQhM,WADfmK,EAGOrI,OAAUgD,EACfqF,OAAK6B,MAAQhM,EAAbsK,MAAA,KAAAH,IAIA,QAAA8B,GAAO9L,GACR,MAAA+L,MAAAC,UAAAhM,GC2RF,QAAIiM,cCrTL,GAAA/J,IACCgK,MADc,KAEdC,KAzBD,WAEE,MAAkB,gBAAXC,SACNA,QACDA,OAAAC,OAFAA,MAGAD,OAAOnC,QAAUA,MAWXmC,OARLrD,MAAAmC,QAAAkB,QAGC,WACO,MAAPlC,YAcH3H,abVE,WACF,OAAA,KAGC2I,OAAOoB,aAAAA,KACPpB,OAAO3B,iBAGP2B,OAAO3B,eAAegD,eAAe,6BAPtC,CAWMC,GAAAA,GAAqBvD,WAC3BiC,QAAOjC,YAAc,WACbqD,MAAAA,SAAQG,UAAUD,KAA6BtI,KAAAA,cAEvD+E,YAAYzI,UAAYgM,EAAmBhM,UAC3CyI,YAAYzI,UAAU0D,YAAc+E,YACpC1I,OAAOmM,eAAezD,YAAauD,OA0CjB,kBAAXG,SACJA,QAAQC,UAAUC,KAAKC,KAAKH,QAAQC,WACpCG,UAgBJ,IAAMhM,GAAc,aC3Fda,gECyBCgB,KE6HHzD,EAAA,OC5IJqD,GAAAA,kCCDqB0G,EAAAA,KAAAA,EAGpB,IAAAW,GAAAf,EAAcoB,KAAA8C,EAAAtM,KAAAwJ,MAGRrK,qEADLgK,EAAAoD,UAAAC,IAFarD,EAAAsD,6BAGA5M,gBAGb2I,EAAKkE,UAAcC,kBAAnB,WANa,GAAArL,GAAAkI,KAAApE,UAOb,OAAA9D,IAAAkI,KAAAgC,yCAEDmB,EAAAA,IAGOnB,MAALoB,eAEApD,KAAAqD,+BAEID,KAAAA,cAKAC,IAAAA,EACAC,IAAAA,KAALtJ,YAAAsG,WACKiD,EAALvD,SAEIa,IAAAA,KAAAA,WAIOA,CACIA,EAAK2C,KAAa3C,UACxB,IAAAvE,EADP,OAAAA,EAAAuE,EAAAxE,WAGMwE,EAAA4C,YAAAnH,OAPCtC,GAAYsG,KAAYkD,cAChCE,KAAA,QAWE,IAAA1O,GAAAgL,KAAAhG,YAAAhF,GACD,IAAAA,EACD,GAAA,gBAAAA,GAAA,wBAEgBgF,GAAL2J,YAAZ3O,GACS6L,EAAA+C,oBAAAC,OACJ,IAAyB,mBAAVxN,OAAnBC,UAA6BC,SAAAC,KAAAxB,GAAA,CACtB6O,GAAaC,KACRH,GAAAA,QAAY3O,SAAvB6O,GACWD,GAAqB,gBAArBA,GAAX,CACiBtN,GAAAA,GAAP,GAAAyN,cACVC,GAAAL,YAAAE,GACYC,EAAAnM,KAAcqM,OAElBA,GAAwBD,KAAAA,EAElBpM,GAAKqM,mBAAjBF,QAGAjD,GAAA+C,oBAAA5O,EAIF6L,MAAAA,eACA7I,EAAAuL,cAAAvL,EAAAuL,aAAAvD,MAIFhI,KAAQuL,SAARtE,EAAwBjH,wCAAA,KAAxBgI,gCAIKiE,EAAgBpI,YAAMqI,EAA3B,kBAAAlE,MAAAhL,IAAAgL,KAAAhL,MAAAgL,KAAAhL,MAGSA,KAAKW,MAAAX,MACb6L,KAAWhF,EACD9G,EAAYC,KAAZW,MAAoBX,KAE9BgL,KAAAmE,EAAAnE,KAAArK,MAAAX,2BAIKmP,EAAAA,KAAAA,UACLtD,KAAWhF,SAAY7E,QAAKoN,SAAAA,GAC5BvD,EAAAhF,YAAAP,KAGK2I,KAASjN,UAAQ6J,EAAgBhF,YAAAmE,KAAAiE,UAAtCjE,KAAAqE,YAGMrE,KAAAkD,aAAAA,GAGPlE,EAAKqF,UAALC,qBAAA,WACKpB,KAAAA,YACLlD,KAAAkD,aAAAA,GAGAlE,EAAKuF,UAALC,OAAA,SAAAC,EAAApJ,GACK6H,KAAAA,GAAAA,EAELlD,KAAA0E,mCAGKC,KAALR,GAAAnE,KAAArK,MAAAX,MACK0P,KAAAA,EAAL1E,KAAArK,MAAAX,IACK4P,KAAAA,EAALxP,YAAA4K,KAAAmE,GAEInE,KAAKmE,aAAAA,EAEHC,IAAAA,GAAAA,KAAoBhP,OAAAA,KAAzBO,MAA4CwO,KAAAA,MAC5CnE,MAAAkE,oGAGKA,KAAAA,GAAAA,EACDA,KAAAA,WASLlF,EAAK2F,UAAcE,YAAnB,WACKC,KAALN,QAAAA,gBAGDK,YAAAA,SAAc/O,GACR0O,GAALO,GAAA/E,gDAGDgF,GAAAA,EAAAA,GAAiBD,EAAA5I,YAAAA,EAAAA,UAAAA,GAAAA,EAAAA,MAGX6D,KAAK7D,eAFV6C,EAAA1I,UAAA+E,WAAA,SAAAoJ,GAMKI,KAAAA,OAALJ,GAAAA,gBAGDpJ,gBAAAA,SAAwBtD,GAClByM,EAAOC,UAAZrK,gBAAA5D,KAAAwJ,KAAAjI,oCAKAiH,EAAA1I,UAAAkE,aAAA,SAAAzC,EAAAkN,GACK/B,GAAL,gBAAyBsB,GACzB1B,EAAAxM,UAAAkE,aAAAhE,KAAAwJ,KAAAjI,EAAA8J,KAAAC,UAAAmD,IAAAA,EAEDzK,UAAAA,aAAAA,KAAAA,KAAazC,EAAKkN,GAGVjF,KAAAkD,aAAAlD,KAAAwE,UAGPxF,EAAA1I,UAAA6D,oBAAA,SAAApC,GACKmL,EAAe5M,UAAKkO,gBAAzBhO,KAAAwJ,KAAAjI,gBAGDoC,iBAAAA,SAAAA,EAAoBpC,GACnB+K,EAAAxM,UAAM8D,aAAN5D,KAAAwJ,KAAAjI,EAAAkN,gBAGD1K,aAAAA,SAAAA,GACC,KAAAkK,GAAMjK,KAAAA,OAANwF,KAAAgC,MAAAyC,aAAAzE,KAAArK,MAAA8O,aAAA,CACA,GAAAjJ,GAAAwE,6CAEDoD,KAAAA,YAAAA,SAEEqB,IAKKjJ,OAAN0J,KAAA9G,GAAApH,QAAA,SAAAe,GACU,GAAViB,GAAmBwC,EAAI2J,GACTF,EAAKjL,EAAAA,aAAnBpD,EAAAmB,GACA,IAAY,OAAAkN,EACA7G,OAAOpH,GACCe,IAAnBF,QACgBsN,EAAJxP,MAAiBiB,GAAUmB,CACrB,MACjB,KAAAqN,QACC5J,EAAA7F,MAAAoC,IAAAkN,CACkBA,MACjB,KAAAI,SAEiBD,EAAAzP,MAAjBoC,GADD,UAAAkN,GAAA,MAAAA,CAKmB,MACX,KAAAlF,OACN,IAAiB1J,QAElBmF,EAAA7F,MAAAoC,GADC,MAAAkN,EAAA,GACDlO,EAAAkO,EAAAK,OAAA,GAAAC,IAAAC,GAED3D,KAAA4D,MAAAR,EAAA1P,QAAA,0CAAA,WAAAA,QAAA,gBAAA,QAAAA,QAAA,WAAA,WAWCiG,GAAA7F,MAAAoC,GADCyD,EAAAxB,YAAAqG,cAAA7E,EAAAxB,YAAAqG,aAAAgC,eAAAtK,GACDyD,EAAAxB,YAAAqG,aAAAtI,GAEI,SASNiH,EAAA1I,UAAAoP,KAAA,SAAAlN,EAAAmN,GAzCF3F,KAAA4F,cAAA,GAAAC,aAAArN,GA2CAsN,OAAAH,MAKEG,EAAQH,UAAAA,cAAAA,aAGV3G,EAAA1I,UAAAgN,QAAA,yBAEDD,aAAAA,yBAEAC,UAAAA,yBAEAC,UAAAA,yBAEAc,aAAAA,yBAEAE,QAAAA,yBAEAG,aAAAA,yBAEAI,SAAAA,yBAEAF,aAAAA,uHM5PO,GAAAmB,GAAiBC,EAAOzQ,QAAA0Q,EAAe,GAIvC,OAHAF,KAAgBC,GAChBE,QAAaC,KAAG,2HAEZJ,EAAYtI,OAExB,QAAY2I,GAAaC,GAChB,IAAA,GAAAtQ,GAAA,EAAAA,EAAAsQ,EAAAC,SAAA7O,OAAA1B,IACDsQ,EAAOE,WAAc,GAG7B,QAAaC,GAAeC,EAAMC,GAClC1P,EAAiBR,KAACiQ,EAAAH,SAAc,SAAAK,EAAA5Q,GACvB2Q,EAAAE,WAAAD,EAAA/M,QAAA7D,KAGT,QAAQ8Q,GAAkBC,GAC1B,MAAe,eAAgBA,GACpBA,EAAAC,YACN7R,SAAA8R,SAAAF,GAEL,QAAQG,GAAOpO,GACf,MAAcA,GAAAqO,OAAQ,SAAWhR,EAAAqF,GAAA,MAAA1C,GAAAyF,QAAApI,KAAAqF,IAE5B,QAAA0D,GAAAkI,EAAAC,GACD,MAASD,GAAOD,OAAK,SAAAhR,GAAA,OAAA,IAAAkR,EAAA9I,QAAApI,KAEpB,QAAAoD,GAAArE,GACDA,EAAS2G,WAAW6H,YAAMxO,GAEzB,QAAAoS,GAAAP,GACD,MAASA,GAAWjG,YAAMyG,EAAAxO,IAAAgO,GAoBzB,QAACS,GAAA9I,GACF,MAA+B,gBAAZA,KACT+I,EAAIC,cAAchJ,IAC1BiJ,EAAAD,cAAAhJ,IAGN,QAAckJ,GAA+BlJ,GAC7C,MAAoC,gBAApBA,IACFiJ,EAAMD,cAAAhJ,GAMf,QAAAmJ,GAAAvB,EAAAwB,GACG,GAAAC,GAAA5S,SAAuBC,cAAU,QAGrC,OAFI4S,GAAiBjP,IAAOuN,GAAGzN,IAAAiP,EAAAC,GAC3BE,EAAAlP,IAAAuN,GAAsB1O,KAAIkQ,GACrBC,EAEb,QAAQG,GAAwB5B,EAAUwB,GAClC,MAAAE,GAA2BjP,IAAAuN,GAAUvN,IAAA+O,GAExC,QAAAK,GAAA7B,EAAAwB,GACDE,EAASjP,IAAoBuN,GAAM8B,OAAEN,GACjCG,EAAOpP,IAAAyN,EAAA2B,EAAwBlP,IAAOuN,GAAIa,OAAU,SAAAkB,GAAA,MAAAA,KAAAP,KAExD,QAASQ,GAAAhC,EAAsByB,GAC3BQ,sBAAuB,WACvBlC,EAAe0B,EAAOzB,OACzBG,EAAA+B,EAAAzP,IAAAuN,GAAAyB,EAAAzB,SAGL,QAAYmC,GAA0B3J,GACtC,IAAY0J,EAAeE,IAAA5J,GAChB,KAAA,IAAAF,WAAA,sBAGX,QAAa+J,KACb,GAAY7J,GAAMmB,KACTrG,EAAAzE,SAAAC,cAAA,QACJwT,GAAAC,KAAA/M,YAAAlC,GACD4O,EAAS3P,IAAAiG,EAAqBlF,EAAG0M,OAC7B2B,EAAWpP,IAAKiG,MAChBkJ,EAAqBnP,IAAAiG,EAAA,GAAcgK,UA6D3C,QAAQC,GAAehC,GACf,GAAAe,GAAakB,EAAAjQ,IAAAgO,EAKb,OAJFe,KACEA,EAAgB,GAAAmB,GAAUlC,GACrBiC,EAAAnQ,IAAAkO,EAAsBe,IAEtBA,EAEb,QAAYoB,GAAiCjP,GACpCkP,EAAAlP,EAAA1D,UAAA,sBACD6S,cAAAA,EACHC,YAAAA,EACQtQ,IAAA,WACL,MAAegQ,GAAuB9I,MAAAqJ,QAElCzQ,IAAA,SAAgByQ,GACXP,EAAY9I,MAAAwE,OAAA6E,MAI7B,QAAAC,GAAgBrU,EAA0BsU,GAO1C,IAAA,GANaC,GAAAtU,SAAAuU,mBAAAxU,EAAAyU,WAAAC,aAAA,SAAAC,GACF,MAAAvC,GAAAuC,GACNF,WAAAG,cACQH,WAAAI,eAEb,MAAA,GACkBC,MAAAA,GAAWA,EAAAP,EAAaQ,YAC1CT,EAAkBlC,EAAW0C,IAMxB,QAAAE,GAAApL,EAAAiI,GACG,MAAQA,aAAiBoD,mBACzBC,EAAgBrR,IAAI+F,GAASuL,KAAC,SAAA/D,GAAA,MAAA4B,GAAA5B,EAAAxH,KAElC,QAASwL,GAAkBxL,GACvB,GAAAiI,GAAewD,EAAAxR,IAAY+F,EACnC,OAAYiI,aAAuByD,UAAMzD,EAAU8B,KAAS9B,EAExD,QAAS0D,GAAA3L,GACL,GAAI4L,GAAUvV,SAAYwV,yBAC1BrB,EAAcc,EAAYrR,IAAA+F,GAC7B8L,EAAAC,EAAA9R,IAAA+F,GACQgM,EAAYR,EAAAxL,EACjB8L,GAAIG,aACJzB,EAAIrS,QAAS,SAAaqP,GACtBoE,EAAW5O,YAAUoM,EAAU5B,EAAAxH,IAAA+I,EAAAvB,EAAAxH,MAEnCgM,EAASE,aAAaN,EAAA,MACtBE,EAAOK,QAAQH,EAAUI,GACjC5B,EAAYrS,QAAU,SAAYqP,GACvBgC,EAAAhC,EAAA4B,EAAA5B,EAAAxH,MAGX,QAAcmK,GAASlC,GACvB,GAAYjI,GAAAmB,IACHnB,GAAEwK,UACNiB,EAAA1R,IAAAiG,EAAAiI,GACDqD,EAAkBvR,IAAAiG,MACd+L,EAAWhS,IAAIiG,EAAC,GAAAqM,kBAAA,SAAAC,EAAAR,GACXzV,SAIDiW,EAAKnU,QAAU,SAAAoU,GACXC,GACArU,EAAOR,KAAA4U,EAAAE,WAAA,SAAArW,GACVA,YAAAsW,UAGOjC,EAAsBrU,EAAU,SAAEgN,GAC1B6G,EAAkB7G,GAAUuJ,cAIxDxU,EAAAR,KAA4B4U,EAAAK,aAAsB,SAAaxW,GACpCA,YAAAsW,WAGHtB,EAAcpL,EAAA5J,IACduV,EAAM3L,GAETwM,GACG/B,EAAsBrU,EAAO,SAAEgN,GAC1B6G,EAAO7G,GAAA6I,oBAvBnBH,EAAQG,gBEpOxB,KAAA,sBAAA5V,WAAA,CFFA,GAAAmW,GAAY,YAAArK,UAAA0K,SAAAC,aACbhD,EAAAzT,SAAA0W,eAAAC,mBAAA,QAEQvE,EAAwB,GAAQuB,4DAGhCK,EAAe7S,OAAS6S,eACxBlS,EAAA+I,MAAAzJ,UAA2BU,QAC3BiP,EAAgB,kBAoCpB6F,GACI,YACH,cAAA,UAEG,aACA,aACA,eACA,cAEAC,EAAYhI,cACZ2D,EAAcqE,EAAAzV,SACtBoR,GAAoBnS,QAAA,WACd,MAAAkN,SAAAuJ,OAAA,GAAAC,GAAA,2DAEFvE,EAAI/D,YAAsB,WAC1B,KAAA,IAAAsI,GAA2B,iHAa/B,IAAQ1D,GAAc,GAAQM,SAC9Bb,EAAc,GAAAa,SACdd,EAAoB,GAAAc,SAiCZrB,EAAAkB,EAAiCpS,SACzCkR,GAAQjS,QAAe,SAAUyQ,GACzB,IAEA,MADHhG,MAAA2D,YAAAqC,GACavD,QAAAC,QAAA1C,MAEV,MAAIjH,GACA,MAAK0J,SAAWuJ,OAACjT,KAG7ByO,EAAQ7D,YAAU,SAAAqC,GAET,GADTwC,EAAoCxI,MAC3B,gBAAAgG,GAAA,CACH,GAAAkG,GAAAlM,KACMrG,EAAW4O,EAAYzP,IAAWoT,GAACC,SACvCxS,GAAAvE,YAAAgX,EAAiCpG,GAC7BuC,EAAe3P,IAAKsT,EAAUvS,EAAA0M,OAC9B2B,EAAUlP,IAAGoT,GAAKlV,QAAA,SAAA6Q,GACTA,EAAGd,eACNsB,EAAc6D,EAAAjE,EAAwBiE,EAAArE,QAKxDqB,EAAiB1B,EAAA,YACjB2B,cAAAA,EACSC,YAAAA,EACHtQ,IAAA,WAEE,MADJ0P,GAAoCxI,MACpBuI,EAAMzP,IAAAkH,MAAAsG,YAG1BwF,EAAY9U,QAAA,SAAgCqV,GAC5C7E,EAAY6E,GAAO,WACV,GAAAxN,GAAAmB,IACFwI,GAAA3J,EACH,IAAAiB,GAAoBtI,UACR8U,EAAO/D,EAAezP,IAAA+F,GACtBkK,EAAYf,EAAAlP,IAAA+F,GAChB0N,EAAAD,EAAAD,GAA2BpM,MAAMqM,EAAAxM,EAO7C,OANYiJ,GAAW/R,QAAA,SAAU6Q,GACjB,GAAKA,EAAGd,cAAqB,CAC7B,GAASV,GAAG4B,EAAqBpJ,EAAAgJ,GAAAxB,KACjCA,GAASgG,GAAMpM,MAAQoG,EAAMvG,MAGzByM,KAGpBrD,EAAeR,EAAA8D,OAAAC,aACftD,cAAAA,EACSjT,MAACqR,GAGV,IAAQ0D,IACAyB,WAAAA,EACDC,SAAAA,GAEC5D,EAAA,GAAAF,SAgCAyB,EAAS,GAAOzB,SACxBsB,EAAqB,GAAAtB,SACZ+B,EAAA,GAAA/B,SA6DT+D,EAAmB5D,EAAA1S,SAgDd,IA/CLsW,EAAa7F,YAAE,WACN,GAAGD,GAAAwD,EAAAxR,IAAAkH,KACP,OAAA8G,aAAAyD,UACgC,YAAtBzD,EAAG+F,WACNhG,EAAcC,EAASlG,OAEnCgM,EAAQpB,QAAc,WACtB,GAAAX,GAAsBR,EAAerK,KACrC4K,GAAc9R,IAAAkH,MAAAgL,QAAmBH,EAAcI,GACzCd,EAAArR,IAAAkH,MAAAvI,OAAA,GACM+S,EAAOxK,MAEXsJ,EAAoBuB,EAAQ,SAAW5I,GACnC6G,EAAuB7G,GAACuJ,aAGpCoB,EAAQ9B,WAAA,WACRF,EAAY9R,IAAAkH,MAAA8K,cAEP8B,EAACpI,OAAA,SAAA6E,GACF,GAAQxK,GAAAmB,KACJ8M,EAAoBxC,EAAAxR,IAAa+F,KAAA3J,SAAA,WAAA,YACnC,KAAA6K,MAAA3J,QAAAiT,GACM,KAAM,IAAG1K,WAAS,sDAAemO,EAAA,qCAErC,KAAIzD,EAAA0D,MAAexF,GACd,KAAM,IAAA5I,WAAc,sDAAGmO,EAAA,+CAE3B,IAAAzD,EAAAe,KAAAzC,GACI,KAAM,IAAChJ,WAAM,sDAA0BmO,EAAA,4CAE3CjO,GAAAwK,OAAAA,CACD,IAAI2D,GAAY7C,EAAArR,IAAA+F,GACZoO,EAAUhG,EAAUoC,EACvBpK,GAAA+N,EAAAC,GACajW,QAAO,SAAAqP,GACjB/M,EAAA2O,EAAgC5B,EAAQxH,IACxCqJ,EAAsB7B,EAAQxH,KAElCsL,EAAcvR,IAAAiG,EAAQoO,GAClBpO,EAAAkI,eAAWkG,EAAqBxV,OAAa,GAC7C+S,EAAA3L,IAIZmC,OAAY+C,cAAY2E,EACxBO,EAASsB,UACH,cAAAvJ,QAAA,cAEF,IAAOkM,GAAA3B,QAAgBjV,UACvB6W,EAAAD,EAAA1J,YACI0J,GAAA1J,aAAsB,SAAE4J,GACxB,GAAAnL,GAAAkL,EAAA3W,KAAAwJ,KAAgCoN,EAI5B,OAHgB,WAAXA,EAAG1J,MACR4D,EAA8B1O,IAAAoH,KAAAiC,GAEtBA,GAGpB,GAAAoL,GAAavE,EAAA5T,SACbmY,GAAwBtG,cACfsG,EAAC7B,UAGFtW,SAAAkE,iBAAiB,mBAAeiU,EAAA7B,QAAA5I,KAAAyK,QAKxCnW,EAAA0G,EAAKlI,CGzTL,IAAA8P,OACC8H,GAAAtO,GACAuO,GAAAhO,eAGK+N,IACAC,IAAAA,EACAC,UAAWxV,gBAEXyV,OAAMC,EACXC,EAAAA,EACA3O,cAAAA,EACAsO,QAAAA,EACAI,OAAAA,EAJWhN,aAAAA,EAMXvL,QAAAA,EACA6C,IAAAA,EACAuH,cARWgO,GASX7M,WAAAA,EACAC,aAVWiN,EAWX9M,UAXWiB,EAYXwL,EAAAA,EACArM,SAAAA,GACA0M,EAAAA,GACA7L,OAAAA,EAfWjJ,IAAAA,EAiBX0U,IAAAA,EAjBW5K,KAAAA,EAmBX/M,OAAAA,EAGA+M,GAAAA,KAtBW2C,IAAAkI,GAuBXI,EAAAA,KAAAA,IAAAA,GAvBD7V,EAAAiK,KAAAsD,IAAAuI,QAAA,SA0BA,mBAAAC,QAAAA,OAAAC,QAAAP,GAAA5O,KAAA0G,IAAAkI","file":"omi.min.js","sourcesContent":["/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * This shim allows elements written in, or compiled to, ES5 to work on native\n * implementations of Custom Elements v1. It sets new.target to the value of\n * this.constructor so that the native HTMLElement constructor can access the\n * current under-construction element's definition.\n */\n; (function () {\n\tif (\n\t\t// No Reflect, no classes, no need for shim because native custom elements\n\t\t// require ES2015 classes or Reflect.\n\t\twindow.Reflect === undefined ||\n\t\twindow.customElements === undefined ||\n\t\t// The webcomponentsjs custom elements polyfill doesn't require\n\t\t// ES2015-compatible construction (`super()` or `Reflect.construct`).\n\t\twindow.customElements.hasOwnProperty('polyfillWrapFlushCallback')\n\t) {\n\t\treturn\n\t}\n\tconst BuiltInHTMLElement = HTMLElement\n\twindow.HTMLElement = function HTMLElement() {\n\t\treturn Reflect.construct(BuiltInHTMLElement, [], this.constructor)\n\t}\n\tHTMLElement.prototype = BuiltInHTMLElement.prototype\n\tHTMLElement.prototype.constructor = HTMLElement\n\tObject.setPrototypeOf(HTMLElement, BuiltInHTMLElement)\n})()\n\nexport function cssToDom(css) {\n\tconst node = document.createElement('style')\n\tnode.textContent = css\n\treturn node\n}\n\nexport function camelCase(str) {\n\treturn str.replace(/-(\\w)/g, ($, $1) => {\n\t\treturn $1.toUpperCase()\n\t})\n}\n\nexport function Fragment(props) {\n\treturn props.children\n}\n\nexport function extend(obj, props) {\n\tfor (let i in props) obj[i] = props[i]\n\treturn obj\n}\n\n/** Invoke or update a ref, depending on whether it is a function or object ref.\n *  @param {object|function} [ref=null]\n *  @param {any} [value]\n */\nexport function applyRef(ref, value) {\n\tif (ref != null) {\n\t\tif (typeof ref == 'function') ref(value)\n\t\telse ref.current = value\n\t}\n}\n\n/**\n * Call a function asynchronously, as soon as possible. Makes\n * use of HTML Promise to schedule the callback if available,\n * otherwise falling back to `setTimeout` (mainly for IE<11).\n * @type {(callback: function) => void}\n */\nexport const defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.resolve().then.bind(Promise.resolve())\n\t\t: setTimeout\n\nexport function isArray(obj) {\n\treturn Object.prototype.toString.call(obj) === '[object Array]'\n}\n\n\nexport function pathToArr(path) {\n\tif (typeof path !== 'string' || !path) return []\n\t// return path.split(/\\.|\\[|\\]/).filter(name => !!name)\n\treturn path\n\t\t.replace(/]/g, '')\n\t\t.replace(/\\[/g, '.')\n\t\t.split('.')\n}\n\nconst hyphenateRE = /\\B([A-Z])/g\nexport function hyphenate(str) {\n\treturn str.replace(hyphenateRE, '-$1').toLowerCase()\n}\n\nexport function getValByPath(path, current) {\n\tconst arr = pathToArr(path)\n\tarr.forEach(prop => {\n\t\tcurrent = current[prop]\n\t})\n\treturn current\n}\n\n\nexport function removeItem(item, arr) {\n\tif (!arr) return\n\tfor (let i = 0, len = arr.length; i < len; i++) {\n\t\tif (arr[i] === item) {\n\t\t\tarr.splice(i, 1)\n\t\t\tbreak\n\t\t}\n\t}\n}\n","import options from './options'\nimport { Fragment } from './util'\n\nconst stack = []\n\nexport function h(nodeName, attributes) {\n  let children = [],\n    lastSimple,\n    child,\n    simple,\n    i\n  for (i = arguments.length; i-- > 2; ) {\n    stack.push(arguments[i])\n  }\n  if (attributes && attributes.children != null) {\n    if (!stack.length) stack.push(attributes.children)\n    delete attributes.children\n  }\n  while (stack.length) {\n    if ((child = stack.pop()) && child.pop !== undefined) {\n      for (i = child.length; i--; ) stack.push(child[i])\n    } else {\n      if (typeof child === 'boolean') child = null\n\n      if ((simple = typeof nodeName !== 'function')) {\n        if (child == null) child = ''\n        else if (typeof child === 'number') child = String(child)\n        else if (typeof child !== 'string') simple = false\n      }\n\n      if (simple && lastSimple) {\n        children[children.length - 1] += child\n      } else if (children.length === 0) {\n        children = [child]\n      } else {\n        children.push(child)\n      }\n\n      lastSimple = simple\n    }\n  }\n\n  if (nodeName === Fragment) {\n    return children\n  }\n\n  const p = {\n    nodeName,\n    children,\n    attributes: attributes == null ? undefined : attributes,\n    key: attributes == null ? undefined : attributes.key\n  }\n\n  // if a \"vnode hook\" is defined, pass every created VNode to it\n  if (options.vnode !== undefined) options.vnode(p)\n\n  return p\n}\n","import { extend } from '../util'\nimport options from '../options'\n/**\n * Check if two nodes are equivalent.\n *\n * @param {Node} node      DOM Node to compare\n * @param {VNode} vnode      Virtual DOM node to compare\n * @param {boolean} [hydrating=false]  If true, ignores component constructors when comparing.\n * @private\n */\nexport function isSameNodeType(node, vnode, hydrating) {\n  if (typeof vnode === 'string' || typeof vnode === 'number') {\n    return node.splitText !== undefined\n  }\n  if (typeof vnode.nodeName === 'string') {\n    return !node._componentConstructor && isNamedNode(node, vnode.nodeName)\n  } else if (typeof vnode.nodeName === 'function') {\n    return options.mapping[node.nodeName.toLowerCase()] === vnode.nodeName\n  }\n  return hydrating || node._componentConstructor === vnode.nodeName\n}\n\n/**\n * Check if an Element has a given nodeName, case-insensitively.\n *\n * @param {Element} node  A DOM Element to inspect the name of.\n * @param {String} nodeName  Unnormalized name to compare against.\n */\nexport function isNamedNode(node, nodeName) {\n  return (\n    node.normalizedNodeName === nodeName ||\n    node.nodeName.toLowerCase() === nodeName.toLowerCase()\n  )\n}\n\n/**\n * Reconstruct Component-style `props` from a VNode.\n * Ensures default/fallback values from `defaultProps`:\n * Own-properties of `defaultProps` not present in `vnode.attributes` are added.\n *\n * @param {VNode} vnode\n * @returns {Object} props\n */\nexport function getNodeProps(vnode) {\n  let props = extend({}, vnode.attributes)\n  props.children = vnode.children\n\n  let defaultProps = vnode.nodeName.defaultProps\n  if (defaultProps !== undefined) {\n    for (let i in defaultProps) {\n      if (props[i] === undefined) {\n        props[i] = defaultProps[i]\n      }\n    }\n  }\n\n  return props\n}\n","import { pathToArr } from './util'\n\nexport const extension = {}\n\nexport function extend(name, handler) {\n  extension['o-' + name] = handler\n}\n\nexport function set(origin, path, value) {\n  const arr = pathToArr(path)\n  let current = origin\n  for (let i = 0, len = arr.length; i < len; i++) {\n    if (i === len - 1) {\n      current[arr[i]] = value\n    } else {\n      current = current[arr[i]]\n    }\n  }\n}\n\nexport function get(origin, path) {\n  const arr = pathToArr(path)\n  let current = origin\n  for (let i = 0, len = arr.length; i < len; i++) {\n    current = current[arr[i]]\n  }\n\n  return current\n}\n\nfunction eventProxy(e) {\n  return this._listeners[e.type](e)\n}\n\nexport function bind(el, type, handler) {\n  el._listeners = el._listeners || {}\n  el._listeners[type] = handler\n  el.addEventListener(type, eventProxy)\n}\n\nexport function unbind(el, type) {\n  el.removeEventListener(type, eventProxy)\n}\n","import { IS_NON_DIMENSIONAL } from '../constants'\nimport { applyRef } from '../util'\nimport options from '../options'\nimport { extension } from '../extend'\n\n/**\n * Create an element with the given nodeName.\n * @param {string} nodeName The DOM node to create\n * @param {boolean} [isSvg=false] If `true`, creates an element within the SVG\n *  namespace.\n * @returns {Element} The created DOM node\n */\nexport function createNode(nodeName, isSvg) {\n  /** @type {Element} */\n  let node = isSvg\n    ? document.createElementNS('http://www.w3.org/2000/svg', nodeName)\n    : document.createElement(nodeName)\n  node.normalizedNodeName = nodeName\n  return node\n}\n\n/**\n * Remove a child node from its parent if attached.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n  let parentNode = node.parentNode\n  if (parentNode) parentNode.removeChild(node)\n}\n\n/**\n * Set a named attribute on the given Node, with special behavior for some names\n * and event handlers. If `value` is `null`, the attribute/handler will be\n * removed.\n * @param {Element} node An element to mutate\n * @param {string} name The name/key to set, such as an event or attribute name\n * @param {*} old The last value that was set for this name/node pair\n * @param {*} value An attribute value, such as a function to be used as an\n *  event handler\n * @param {boolean} isSvg Are we currently diffing inside an svg?\n * @private\n */\nexport function setAccessor(node, name, old, value, isSvg, component) {\n  if (name === 'className') name = 'class'\n\n  if (name[0] == 'o' && name[1] == '-') {\n    if (extension[name]) {\n      extension[name](node, value, component)\n    }\n  } else if (name === 'key') {\n    // ignore\n  } else if (name === 'ref') {\n    applyRef(old, null)\n    applyRef(value, node)\n  } else if (name === 'class' && !isSvg) {\n    node.className = value || ''\n  } else if (name === 'style') {\n    if (!value || typeof value === 'string' || typeof old === 'string') {\n      node.style.cssText = value || ''\n    }\n    if (value && typeof value === 'object') {\n      if (typeof old !== 'string') {\n        for (let i in old) if (!(i in value)) node.style[i] = ''\n      }\n      for (let i in value) {\n        node.style[i] =\n          typeof value[i] === 'number' && IS_NON_DIMENSIONAL.test(i) === false\n            ? value[i] + 'px'\n            : value[i]\n      }\n    }\n  } else if (name === 'dangerouslySetInnerHTML') {\n    if (value) node.innerHTML = value.__html || ''\n  } else if (\n    name[0] == '_' &&\n    name[1] == 'o' &&\n    name[2] == 'n' &&\n    node.constructor.is === 'WeElement'\n  ) {\n    bindEvent(node, name.replace('_', ''), value, old)\n  } else if (name[0] == 'o' && name[1] == 'n') {\n    bindEvent(node, name, value, old)\n  } else if (node.nodeName === 'INPUT' && name === 'value') {\n    node[name] = value == null ? '' : value\n  } else if (\n    name !== 'list' &&\n    name !== 'type' &&\n    name !== 'css' &&\n    !isSvg &&\n    name in node &&\n    value !== ''\n  ) {\n    //value !== '' fix for selected, disabled, checked with pure element\n    // Attempt to set a DOM property to the given value.\n    // IE & FF throw for certain property-value combinations.\n    try {\n      node[name] = value == null ? '' : value\n    } catch (e) {}\n    if ((value == null || value === false) && name != 'spellcheck')\n      node.pureRemoveAttribute\n        ? node.pureRemoveAttribute(name)\n        : node.removeAttribute(name)\n  } else {\n    let ns = isSvg && name !== (name = name.replace(/^xlink:?/, ''))\n    // spellcheck is treated differently than all other boolean values and\n    // should not be removed when the value is `false`. See:\n    // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-spellcheck\n    if (value == null || value === false) {\n      if (ns)\n        node.removeAttributeNS(\n          'http://www.w3.org/1999/xlink',\n          name.toLowerCase()\n        )\n      else\n        node.pureRemoveAttribute\n          ? node.pureRemoveAttribute(name)\n          : node.removeAttribute(name)\n    } else if (typeof value !== 'function') {\n      if (ns) {\n        node.setAttributeNS(\n          'http://www.w3.org/1999/xlink',\n          name.toLowerCase(),\n          value\n        )\n      } else {\n        node.pureSetAttribute\n          ? node.pureSetAttribute(name, value)\n          : node.setAttribute(name, value)\n      }\n    }\n  }\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n  return this._listeners[e.type]((options.event && options.event(e)) || e)\n}\n\nfunction bindEvent(node, name, value, old) {\n  let useCapture = name !== (name = name.replace(/Capture$/, ''))\n  let nameLower = name.toLowerCase()\n  name = (nameLower in node ? nameLower : name).slice(2)\n  if (value) {\n    if (!old) {\n      node.addEventListener(name, eventProxy, useCapture)\n    }\n  } else {\n    node.removeEventListener(name, eventProxy, useCapture)\n  }\n  ;(node._listeners || (node._listeners = {}))[name] = value\n}\n","import { ATTR_KEY } from '../constants'\nimport { isSameNodeType, isNamedNode } from './index'\nimport { createNode, setAccessor } from '../dom/index'\nimport { camelCase, isArray, Fragment } from '../util'\nimport { removeNode } from '../dom/index'\nimport options from '../options'\n\n/** Queue of components that have been mounted and are awaiting componentDidMount */\nexport const mounts = []\n\n/** Diff recursion count, used to track the end of the diff cycle. */\nexport let diffLevel = 0\n\n/** Global flag indicating if the diff is currently within an SVG */\nlet isSvgMode = false\n\n/** Global flag indicating if the diff is performing hydration */\nlet hydrating = false\n\n/** Apply differences in a given vnode (and it's deep children) to a real DOM Node.\n *  @param {Element} [dom=null]    A DOM node to mutate into the shape of the `vnode`\n *  @param {VNode} vnode      A VNode (with descendants forming a tree) representing the desired DOM structure\n *  @returns {Element} dom      The created/mutated element\n *  @private\n */\nexport function diff(dom, vnode, parent, component, updateSelf) {\n  //first render return undefined\n  if (!dom && !vnode) return\n  // diffLevel having been 0 here indicates initial entry into the diff (not a subdiff)\n  let ret\n  if (!diffLevel++) {\n    // when first starting the diff, check if we're diffing an SVG or within an SVG\n    isSvgMode = parent != null && parent.ownerSVGElement !== undefined\n\n    // hydration is indicated by the existing element to be diffed not having a prop cache\n    hydrating = dom != null && !(ATTR_KEY in dom)\n  }\n  if (vnode && vnode.nodeName === Fragment) {\n    vnode = vnode.children\n  }\n  if (isArray(vnode)) {\n    if (parent) {\n      //don't use css and props.css when using h.f\n      innerDiffNode(parent, vnode, hydrating, component, updateSelf)\n    } else {\n      ret = []\n      vnode.forEach((item, index) => {\n        let ele = idiff(index === 0 ? dom : null, item, component, updateSelf)\n        ret.push(ele)\n      })\n    }\n  } else {\n    if (isArray(dom)) {\n      dom.forEach((one, index) => {\n        if (index === 0) {\n          ret = idiff(one, vnode, component, updateSelf)\n        } else {\n          recollectNodeTree(one, false)\n        }\n      })\n    } else {\n      ret = idiff(dom, vnode, component, updateSelf)\n    }\n    // append the element if its a new parent\n    if (parent && ret.parentNode !== parent) parent.appendChild(ret)\n  }\n\n  // diffLevel being reduced to 0 means we're exiting the diff\n  if (!--diffLevel) {\n    hydrating = false\n    // invoke queued componentDidMount lifecycle methods\n  }\n\n  return ret\n}\n\n/** Internals of `diff()`, separated to allow bypassing diffLevel / mount flushing. */\nfunction idiff(dom, vnode, component, updateSelf) {\n  if (dom && vnode && dom.props) {\n    dom.props.children = vnode.children\n  }\n  let out = dom,\n    prevSvgMode = isSvgMode\n\n  // empty values (null, undefined, booleans) render as empty Text nodes\n  if (vnode == null || typeof vnode === 'boolean') vnode = ''\n\n  // Fast case: Strings & Numbers create/update Text nodes.\n  if (typeof vnode === 'string' || typeof vnode === 'number') {\n    // update if it's already a Text node:\n    if (\n      dom &&\n      dom.splitText !== undefined &&\n      dom.parentNode &&\n      (!dom._component || component)\n    ) {\n      /* istanbul ignore if */ /* Browser quirk that can't be covered: https://github.com/developit/preact/commit/fd4f21f5c45dfd75151bd27b4c217d8003aa5eb9 */\n      if (dom.nodeValue != vnode) {\n        dom.nodeValue = vnode\n      }\n    } else {\n      // it wasn't a Text node: replace it with one and recycle the old Element\n      out = document.createTextNode(vnode)\n      if (dom) {\n        if (dom.parentNode) dom.parentNode.replaceChild(out, dom)\n        recollectNodeTree(dom, true)\n      }\n    }\n\n    out[ATTR_KEY] = true\n\n    return out\n  }\n\n  // If the VNode represents a Component, perform a component diff:\n  let vnodeName = vnode.nodeName\n  if (typeof vnodeName === 'function') {\n    for (let key in options.mapping) {\n      if (options.mapping[key] === vnodeName) {\n        vnodeName = key\n        vnode.nodeName = key\n        break\n      }\n    }\n  }\n  // Tracks entering and exiting SVG namespace when descending through the tree.\n  isSvgMode =\n    vnodeName === 'svg'\n      ? true\n      : vnodeName === 'foreignObject'\n      ? false\n      : isSvgMode\n\n  // If there's no existing element or it's the wrong type, create a new one:\n  vnodeName = String(vnodeName)\n  if (!dom || !isNamedNode(dom, vnodeName)) {\n    out = createNode(vnodeName, isSvgMode)\n\n    if (dom) {\n      // move children into the replacement node\n      while (dom.firstChild) out.appendChild(dom.firstChild)\n\n      // if the previous Element was mounted into the DOM, replace it inline\n      if (dom.parentNode) dom.parentNode.replaceChild(out, dom)\n\n      // recycle the old element (skips non-Element node types)\n      recollectNodeTree(dom, true)\n    }\n  }\n\n  let fc = out.firstChild,\n    props = out[ATTR_KEY],\n    vchildren = vnode.children\n\n  if (props == null) {\n    props = out[ATTR_KEY] = {}\n    for (let a = out.attributes, i = a.length; i--; )\n      props[a[i].name] = a[i].value\n  }\n\n  // Optimization: fast-path for elements containing a single TextNode:\n  if (\n    !hydrating &&\n    vchildren &&\n    vchildren.length === 1 &&\n    typeof vchildren[0] === 'string' &&\n    fc != null &&\n    fc.splitText !== undefined &&\n    fc.nextSibling == null\n  ) {\n    if (fc.nodeValue != vchildren[0]) {\n      fc.nodeValue = vchildren[0]\n    }\n  }\n  // otherwise, if there are existing or new children, diff them:\n  else if ((vchildren && vchildren.length) || fc != null) {\n    if (!(out.constructor.is == 'WeElement' && out.constructor.noSlot)) {\n      innerDiffNode(\n        out,\n        vchildren,\n        hydrating || props.dangerouslySetInnerHTML != null,\n        component,\n        updateSelf\n      )\n    }\n  }\n\n  // Apply attributes/props from VNode to the DOM Element:\n  diffAttributes(out, vnode.attributes, props, component, updateSelf)\n  if (out.props) {\n    out.props.children = vnode.children\n  }\n  // restore previous SVG mode: (in case we're exiting an SVG namespace)\n  isSvgMode = prevSvgMode\n\n  return out\n}\n\n/** Apply child and attribute changes between a VNode and a DOM Node to the DOM.\n *  @param {Element} dom      Element whose children should be compared & mutated\n *  @param {Array} vchildren    Array of VNodes to compare to `dom.childNodes`\n *  @param {Boolean} isHydrating  If `true`, consumes externally created elements similar to hydration\n */\nfunction innerDiffNode(dom, vchildren, isHydrating, component, updateSelf) {\n  let originalChildren = dom.childNodes,\n    children = [],\n    keyed = {},\n    keyedLen = 0,\n    min = 0,\n    len = originalChildren.length,\n    childrenLen = 0,\n    vlen = vchildren ? vchildren.length : 0,\n    j,\n    c,\n    f,\n    vchild,\n    child\n\n  // Build up a map of keyed children and an Array of unkeyed children:\n  if (len !== 0) {\n    for (let i = 0; i < len; i++) {\n      let child = originalChildren[i],\n        props = child[ATTR_KEY],\n        key =\n          vlen && props\n            ? child._component\n              ? child._component.__key\n              : props.key\n            : null\n      if (key != null) {\n        keyedLen++\n        keyed[key] = child\n      } else if (\n        props ||\n        (child.splitText !== undefined\n          ? isHydrating\n            ? child.nodeValue.trim()\n            : true\n          : isHydrating)\n      ) {\n        children[childrenLen++] = child\n      }\n    }\n  }\n\n  if (vlen !== 0) {\n    for (let i = 0; i < vlen; i++) {\n      vchild = vchildren[i]\n      child = null\n\n      if (vchild) {\n        // attempt to find a node based on key matching\n        let key = vchild.key\n        if (key != null) {\n          if (keyedLen && keyed[key] !== undefined) {\n            child = keyed[key]\n            keyed[key] = undefined\n            keyedLen--\n          }\n        }\n        // attempt to pluck a node of the same type from the existing children\n        else if (!child && min < childrenLen) {\n          for (j = min; j < childrenLen; j++) {\n            if (\n              children[j] !== undefined &&\n              isSameNodeType((c = children[j]), vchild, isHydrating)\n            ) {\n              child = c\n              children[j] = undefined\n              if (j === childrenLen - 1) childrenLen--\n              if (j === min) min++\n              break\n            }\n          }\n        }\n      }\n\n      // morph the matched/found/created DOM child to match vchild (deep)\n      child = idiff(child, vchild, component, updateSelf)\n\n      f = originalChildren[i]\n      if (child && child !== dom && child !== f) {\n        if (f == null) {\n          dom.appendChild(child)\n        } else if (child === f.nextSibling) {\n          removeNode(f)\n        } else {\n          dom.insertBefore(child, f)\n        }\n      }\n    }\n  }\n\n  // remove unused keyed children:\n  if (keyedLen) {\n    for (let i in keyed)\n      if (keyed[i] !== undefined) recollectNodeTree(keyed[i], false)\n  }\n\n  // remove orphaned unkeyed children:\n  while (min <= childrenLen) {\n    if ((child = children[childrenLen--]) !== undefined)\n      recollectNodeTree(child, false)\n  }\n}\n\n/** Recursively recycle (or just unmount) a node and its descendants.\n *  @param {Node} node            DOM node to start unmount/removal from\n *  @param {Boolean} [unmountOnly=false]  If `true`, only triggers unmount lifecycle, skips removal\n */\nexport function recollectNodeTree(node, unmountOnly) {\n  // If the node's VNode had a ref function, invoke it with null here.\n  // (this is part of the React spec, and smart for unsetting references)\n  if (node[ATTR_KEY] != null && node[ATTR_KEY].ref) {\n    if (typeof node[ATTR_KEY].ref === 'function') {\n      node[ATTR_KEY].ref(null)\n    } else if (node[ATTR_KEY].ref.current) {\n      node[ATTR_KEY].ref.current = null\n    }\n  }\n\n  if (unmountOnly === false || node[ATTR_KEY] == null) {\n    removeNode(node)\n  }\n\n  removeChildren(node)\n}\n\n/** Recollect/unmount all children.\n *  - we use .lastChild here because it causes less reflow than .firstChild\n *  - it's also cheaper than accessing the .childNodes Live NodeList\n */\nexport function removeChildren(node) {\n  node = node.lastChild\n  while (node) {\n    let next = node.previousSibling\n    recollectNodeTree(node, true)\n    node = next\n  }\n}\n\n/** Apply differences in attributes from a VNode to the given DOM Element.\n *  @param {Element} dom    Element with attributes to diff `attrs` against\n *  @param {Object} attrs    The desired end-state key-value attribute pairs\n *  @param {Object} old      Current/previous attributes (from previous VNode or element's prop cache)\n */\nfunction diffAttributes(dom, attrs, old, component, updateSelf) {\n  let name\n  //let update = false\n  let isWeElement = dom.update\n  let oldClone\n  if (dom.receiveProps) {\n    oldClone = Object.assign({}, old)\n  }\n  // remove attributes no longer present on the vnode by setting them to undefined\n  for (name in old) {\n    if (!(attrs && attrs[name] != null) && old[name] != null) {\n      setAccessor(\n        dom,\n        name,\n        old[name],\n        (old[name] = undefined),\n        isSvgMode,\n        component\n      )\n      if (isWeElement) {\n        delete dom.props[name]\n        //update = true\n      }\n    }\n  }\n\n  // add new & update changed attributes\n  for (name in attrs) {\n    if (isWeElement && typeof attrs[name] === 'object' && name !== 'ref') {\n      if (name === 'style') {\n        setAccessor(\n          dom,\n          name,\n          old[name],\n          (old[name] = attrs[name]),\n          isSvgMode,\n          component\n        )\n      }\n      let ccName = camelCase(name)\n      dom.props[ccName] = old[ccName] = attrs[name]\n      //update = true\n    } else if (\n      name !== 'children' &&\n      (!(name in old) ||\n        attrs[name] !==\n          (name === 'value' || name === 'checked' ? dom[name] : old[name]))\n    ) {\n      setAccessor(dom, name, old[name], attrs[name], isSvgMode, component)\n      //fix lazy load props missing\n      if (dom.nodeName.indexOf('-') !== -1) {\n        dom.props = dom.props || {}\n        let ccName = camelCase(name)\n        dom.props[ccName] = old[ccName] = attrs[name]\n        //update = true\n      } else {\n        old[name] = attrs[name]\n      }\n    }\n  }\n\n  if (isWeElement && !updateSelf && dom.parentNode) {\n    //__hasChildren is not accuracy when it was empty at first, so add dom.children.length > 0 condition\n    //if (update || dom.__hasChildren || dom.children.length > 0 || (dom.store && !dom.store.data)) {\n    if (dom.receiveProps(dom.props, oldClone) !== false) {\n      dom.update()\n    }\n    //}\n  }\n}\n","import {\n\tcssToDom,\n\tisArray,\n\thyphenate,\n\tgetValByPath,\n\tremoveItem\n} from './util'\nimport { diff } from './vdom/diff'\nimport options from './options'\n\nlet id = 0\n\nexport default class WeElement extends HTMLElement {\n\tstatic is = 'WeElement'\n\n\tconstructor() {\n\t\tsuper()\n\t\t// fix lazy load props missing\n\t\tthis.props = Object.assign({}, this.constructor.defaultProps, this.props)\n\t\tthis.elementId = id++\n\t\tthis.computed = {}\n\t\tthis.isInstalled = false\n\t}\n\n\tconnectedCallback() {\n\t\tlet p = this.parentNode\n\t\twhile (p && !this.store) {\n\t\t\tthis.store = p.store\n\t\t\tp = p.parentNode || p.host\n\t\t}\n\n\t\tthis.attrsToProps()\n\n\n\n\n\t\tthis.beforeInstall()\n\t\tthis.install()\n\t\tthis.afterInstall()\n\n\t\tlet shadowRoot\n\t\tif (this.constructor.isLightDom) {\n\t\t\tshadowRoot = this\n\t\t} else {\n\t\t\tif (!this.shadowRoot) {\n\t\t\t\tshadowRoot = this.attachShadow({\n\t\t\t\t\tmode: 'open'\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tshadowRoot = this.shadowRoot\n\t\t\t\tlet fc\n\t\t\t\twhile ((fc = shadowRoot.firstChild)) {\n\t\t\t\t\tshadowRoot.removeChild(fc)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst css = this.constructor.css\n\t\tif (css) {\n\t\t\tif (typeof css === 'string') {\n\t\t\t\tconst styleSheet = new CSSStyleSheet()\n\t\t\t\tstyleSheet.replaceSync(css)\n\t\t\t\tshadowRoot.adoptedStyleSheets = [styleSheet]\n\t\t\t} else if (Object.prototype.toString.call(css) === '[object Array]') {\n\t\t\t\tconst styleSheets = []\n\t\t\t\tcss.forEach(styleSheet => {\n\t\t\t\t\tif (typeof styleSheet === 'string') {\n\t\t\t\t\t\tconst adoptedStyleSheet = new CSSStyleSheet()\n\t\t\t\t\t\tadoptedStyleSheet.replaceSync(styleSheet)\n\t\t\t\t\t\tstyleSheets.push(adoptedStyleSheet)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstyleSheets.push(styleSheet)\n\t\t\t\t\t}\n\t\t\t\t\tshadowRoot.adoptedStyleSheets = styleSheets\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tshadowRoot.adoptedStyleSheets = [css]\n\t\t\t}\n\t\t}\n\n\t\tthis.beforeRender()\n\t\toptions.afterInstall && options.afterInstall(this)\n\n\t\tconst rendered = this.render(this.props, this.store)\n\n\t\tthis.rootNode = diff(null, rendered, null, this)\n\t\tthis.rendered()\n\n\t\tif (this.css) {\n\t\t\tshadowRoot.appendChild(\n\t\t\t\tcssToDom(typeof this.css === 'function' ? this.css() : this.css)\n\t\t\t)\n\t\t}\n\n\t\tif (this.props.css) {\n\t\t\tthis._customStyleElement = cssToDom(this.props.css)\n\t\t\tthis._customStyleContent = this.props.css\n\t\t\tshadowRoot.appendChild(this._customStyleElement)\n\t\t}\n\n\t\tif (isArray(this.rootNode)) {\n\t\t\tthis.rootNode.forEach(function (item) {\n\t\t\t\tshadowRoot.appendChild(item)\n\t\t\t})\n\t\t} else {\n\t\t\tthis.rootNode && shadowRoot.appendChild(this.rootNode)\n\t\t}\n\t\tthis.installed()\n\t\tthis.isInstalled = true\n\t}\n\n\tdisconnectedCallback() {\n\t\tthis.uninstall()\n\t\tthis.isInstalled = false\n\n\t}\n\n\tupdate(ignoreAttrs, updateSelf) {\n\t\tthis._willUpdate = true\n\t\tthis.beforeUpdate()\n\t\tthis.beforeRender()\n\t\t//fix null !== undefined\n\t\tif (this._customStyleContent != this.props.css) {\n\t\t\tthis._customStyleContent = this.props.css\n\t\t\tthis._customStyleElement.textContent = this._customStyleContent\n\t\t}\n\t\tthis.attrsToProps(ignoreAttrs)\n\n\t\tconst rendered = this.render(this.props, this.store)\n\t\tthis.rendered()\n\n\t\tthis.rootNode = diff(\n\t\t\tthis.rootNode,\n\t\t\trendered,\n\t\t\tthis.constructor.isLightDom ? this : this.shadowRoot,\n\t\t\tthis,\n\t\t\tupdateSelf\n\t\t)\n\t\tthis._willUpdate = false\n\t\tthis.updated()\n\t}\n\n\tforceUpdate() {\n\t\tthis.update(true)\n\t}\n\n\tupdateProps(obj) {\n\t\tObject.keys(obj).forEach(key => {\n\t\t\tthis.props[key] = obj[key]\n\t\t\tif (this.prevProps) {\n\t\t\t\tthis.prevProps[key] = obj[key]\n\t\t\t}\n\t\t})\n\t\tthis.forceUpdate()\n\t}\n\n\tupdateSelf(ignoreAttrs) {\n\t\tthis.update(ignoreAttrs, true)\n\t}\n\n\tremoveAttribute(key) {\n\t\tsuper.removeAttribute(key)\n\t\t//Avoid executing removeAttribute methods before connectedCallback\n\t\tthis.isInstalled && this.update()\n\t}\n\n\tsetAttribute(key, val) {\n\t\tif (val && typeof val === 'object') {\n\t\t\tsuper.setAttribute(key, JSON.stringify(val))\n\t\t} else {\n\t\t\tsuper.setAttribute(key, val)\n\t\t}\n\t\t//Avoid executing setAttribute methods before connectedCallback\n\t\tthis.isInstalled && this.update()\n\t}\n\n\tpureRemoveAttribute(key) {\n\t\tsuper.removeAttribute(key)\n\t}\n\n\tpureSetAttribute(key, val) {\n\t\tsuper.setAttribute(key, val)\n\t}\n\n\tattrsToProps(ignoreAttrs) {\n\t\tif (\n\t\t\tignoreAttrs ||\n\t\t\t(this.store && this.store.ignoreAttrs) ||\n\t\t\tthis.props.ignoreAttrs\n\t\t)\n\t\t\treturn\n\t\tconst ele = this\n\t\tele.props['css'] = ele.getAttribute('css')\n\t\tconst attrs = this.constructor.propTypes\n\t\tif (!attrs) return\n\t\tObject.keys(attrs).forEach(key => {\n\t\t\tconst type = attrs[key]\n\t\t\tconst val = ele.getAttribute(hyphenate(key))\n\t\t\tif (val !== null) {\n\t\t\t\tswitch (type) {\n\t\t\t\t\tcase String:\n\t\t\t\t\t\tele.props[key] = val\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase Number:\n\t\t\t\t\t\tele.props[key] = Number(val)\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase Boolean:\n\t\t\t\t\t\tif (val === 'false' || val === '0') {\n\t\t\t\t\t\t\tele.props[key] = false\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tele.props[key] = true\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase Array:\n\t\t\t\t\tcase Object:\n\t\t\t\t\t\tif (val[0] === ':') {\n\t\t\t\t\t\t\tele.props[key] = getValByPath(val.substr(1), Omi.$)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tele.props[key] = JSON.parse(\n\t\t\t\t\t\t\t\tval\n\t\t\t\t\t\t\t\t\t.replace(/(['\"])?([a-zA-Z0-9_-]+)(['\"])?:([^\\/])/g, '\"$2\":$4')\n\t\t\t\t\t\t\t\t\t.replace(/'([\\s\\S]*?)'/g, '\"$1\"')\n\t\t\t\t\t\t\t\t\t.replace(/,(\\s*})/g, '$1')\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tele.constructor.defaultProps &&\n\t\t\t\t\tele.constructor.defaultProps.hasOwnProperty(key)\n\t\t\t\t) {\n\t\t\t\t\tele.props[key] = ele.constructor.defaultProps[key]\n\t\t\t\t} else {\n\t\t\t\t\tele.props[key] = null\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\tfire(name, data) {\n\t\tthis.dispatchEvent(\n\t\t\tnew CustomEvent(name, {\n\t\t\t\tdetail: data\n\t\t\t})\n\t\t)\n\t}\n\n\tbeforeInstall() { }\n\n\tinstall() { }\n\n\tafterInstall() { }\n\n\tinstalled() { }\n\n\tuninstall() { }\n\n\tbeforeUpdate() { }\n\n\tupdated() { }\n\n\tbeforeRender() { }\n\n\trendered() { }\n\n\treceiveProps() { }\n}\n","import { diff } from './vdom/diff'\n\nexport function render(vnode, parent, store) {\n\tparent = typeof parent === 'string' ? document.querySelector(parent) : parent\n\tif (store) {\n\t\tparent.store = store\n\t}\n\treturn diff(null, vnode, parent, false)\n}\n\n\n\n","import WeElement from './we-element'\nimport options from './options'\n\nconst storeHelpers = ['use', 'useSelf']\n\nexport function define(name, ctor, config) {\n  if (customElements.get(name)) {\n    return\n  }\n  if (options.mapping[name]) {\n    return\n  }\n  if (ctor.is === 'WeElement') {\n    customElements.define(name, ctor)\n    options.mapping[name] = ctor\n  } else {\n    if (typeof config === 'string') {\n      config = { css: config }\n    } else {\n      config = config || {}\n    }\n\n    class Ele extends WeElement {\n      static css = config.css\n\n      static propTypes = config.propTypes\n\n      static defaultProps = config.defaultProps\n\n      static isLightDom = config.isLightDom\n\n      compute = config.compute\n\n      render() {\n        return ctor.call(this, this)\n      }\n    }\n\n    for (let key in config) {\n      if (typeof config[key] === 'function') {\n        Ele.prototype[key] = function() {\n          return config[key].apply(this, arguments)\n        }\n      }\n    }\n\n    storeHelpers.forEach(func => {\n      if (config[func] && config[func] !== 'function') {\n        Ele.prototype[func] = function() {\n          return config[func]\n        }\n      }\n    })\n\n    customElements.define(name, Ele)\n    options.mapping[name] = Ele\n  }\n}\n","import { extend } from './util'\nimport { h } from './h'\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {VNode} vnode    The virtual DOM element to clone\n * @param {Object} props  Attributes/props to add when cloning\n * @param {VNode} rest    Any additional arguments will be used as replacement children.\n */\nexport function cloneElement(vnode, props) {\n  return h(\n    vnode.nodeName,\n    extend(extend({}, vnode.attributes), props),\n    arguments.length > 2 ? [].slice.call(arguments, 2) : vnode.children\n  )\n}\n","export function getHost(ele) {\n  let p = ele.parentNode\n  while (p) {\n    if (p.host) {\n      return p.host\n    } else if (p.shadowRoot && p.shadowRoot.host) {\n      return p.shadowRoot.host\n    } else {\n      p = p.parentNode\n    }\n  }\n}\n","/**\n * classNames based on https://github.com/JedWatson/classnames\n * by Jed Watson\n * Licensed under the MIT License\n * https://github.com/JedWatson/classnames/blob/master/LICENSE\n * modified by dntzhang\n */\n\nvar hasOwn = {}.hasOwnProperty\n\nexport function classNames() {\n  var classes = []\n\n  for (var i = 0; i < arguments.length; i++) {\n    var arg = arguments[i]\n    if (!arg) continue\n\n    var argType = typeof arg\n\n    if (argType === 'string' || argType === 'number') {\n      classes.push(arg)\n    } else if (Array.isArray(arg) && arg.length) {\n      var inner = classNames.apply(null, arg)\n      if (inner) {\n        classes.push(inner)\n      }\n    } else if (argType === 'object') {\n      for (var key in arg) {\n        if (hasOwn.call(arg, key) && arg[key]) {\n          classes.push(key)\n        }\n      }\n    }\n  }\n\n  return classes.join(' ')\n}\n\nexport function extractClass() {\n  const [props, ...args] = Array.prototype.slice.call(arguments, 0)\n  if (props.class) {\n    args.unshift(props.class)\n    delete props.class\n  } else if (props.className) {\n    args.unshift(props.className)\n    delete props.className\n  }\n  if (args.length > 0) {\n    return { class: classNames.apply(null, args) }\n  }\n}\n","(function () {\n    'use strict';\n\n    if ('adoptedStyleSheets' in document) { return; }\n\n    var hasShadyCss = 'ShadyCSS' in window && !ShadyCSS.nativeShadow;\n    var bootstrapper = document.implementation.createHTMLDocument('boot');\n    var closedShadowRootRegistry = new WeakMap();\n    var _DOMException = typeof DOMException === 'object' ? Error : DOMException;\n\n    var defineProperty = Object.defineProperty;\n    var forEach = Array.prototype.forEach;\n    var importPattern = /@import.+?;?$/gm;\n    function rejectImports(contents) {\n        var _contents = contents.replace(importPattern, '');\n        if (_contents !== contents) {\n            console.warn('@import rules are not allowed here. See https://github.com/WICG/construct-stylesheets/issues/119#issuecomment-588352418');\n        }\n        return _contents.trim();\n    }\n    function clearRules(sheet) {\n        for (var i = 0; i < sheet.cssRules.length; i++) {\n            sheet.deleteRule(0);\n        }\n    }\n    function insertAllRules(from, to) {\n        forEach.call(from.cssRules, function (rule, i) {\n            to.insertRule(rule.cssText, i);\n        });\n    }\n    function isElementConnected(element) {\n        return 'isConnected' in element\n            ? element.isConnected\n            : document.contains(element);\n    }\n    function unique(arr) {\n        return arr.filter(function (value, index) { return arr.indexOf(value) === index; });\n    }\n    function diff(arr1, arr2) {\n        return arr1.filter(function (value) { return arr2.indexOf(value) === -1; });\n    }\n    function removeNode(node) {\n        node.parentNode.removeChild(node);\n    }\n    function getShadowRoot(element) {\n        return element.shadowRoot || closedShadowRootRegistry.get(element);\n    }\n\n    var cssStyleSheetMethods = [\n        'addImport',\n        'addPageRule',\n        'addRule',\n        'deleteRule',\n        'insertRule',\n        'removeImport',\n        'removeRule',\n    ];\n    var NonConstructedStyleSheet = CSSStyleSheet;\n    var nonConstructedProto = NonConstructedStyleSheet.prototype;\n    nonConstructedProto.replace = function () {\n        return Promise.reject(new _DOMException(\"Can't call replace on non-constructed CSSStyleSheets.\"));\n    };\n    nonConstructedProto.replaceSync = function () {\n        throw new _DOMException(\"Failed to execute 'replaceSync' on 'CSSStyleSheet': Can't call replaceSync on non-constructed CSSStyleSheets.\");\n    };\n    function isCSSStyleSheetInstance(instance) {\n        return typeof instance === 'object'\n            ? proto$2.isPrototypeOf(instance) ||\n                nonConstructedProto.isPrototypeOf(instance)\n            : false;\n    }\n    function isNonConstructedStyleSheetInstance(instance) {\n        return typeof instance === 'object'\n            ? nonConstructedProto.isPrototypeOf(instance)\n            : false;\n    }\n    var $basicStyleSheet = new WeakMap();\n    var $locations = new WeakMap();\n    var $adoptersByLocation = new WeakMap();\n    function addAdopterLocation(sheet, location) {\n        var adopter = document.createElement('style');\n        $adoptersByLocation.get(sheet).set(location, adopter);\n        $locations.get(sheet).push(location);\n        return adopter;\n    }\n    function getAdopterByLocation(sheet, location) {\n        return $adoptersByLocation.get(sheet).get(location);\n    }\n    function removeAdopterLocation(sheet, location) {\n        $adoptersByLocation.get(sheet).delete(location);\n        $locations.set(sheet, $locations.get(sheet).filter(function (_location) { return _location !== location; }));\n    }\n    function restyleAdopter(sheet, adopter) {\n        requestAnimationFrame(function () {\n            clearRules(adopter.sheet);\n            insertAllRules($basicStyleSheet.get(sheet), adopter.sheet);\n        });\n    }\n    function checkInvocationCorrectness(self) {\n        if (!$basicStyleSheet.has(self)) {\n            throw new TypeError('Illegal invocation');\n        }\n    }\n    function ConstructedStyleSheet() {\n        var self = this;\n        var style = document.createElement('style');\n        bootstrapper.body.appendChild(style);\n        $basicStyleSheet.set(self, style.sheet);\n        $locations.set(self, []);\n        $adoptersByLocation.set(self, new WeakMap());\n    }\n    var proto$2 = ConstructedStyleSheet.prototype;\n    proto$2.replace = function replace(contents) {\n        try {\n            this.replaceSync(contents);\n            return Promise.resolve(this);\n        }\n        catch (e) {\n            return Promise.reject(e);\n        }\n    };\n    proto$2.replaceSync = function replaceSync(contents) {\n        checkInvocationCorrectness(this);\n        if (typeof contents === 'string') {\n            var self_1 = this;\n            var style = $basicStyleSheet.get(self_1).ownerNode;\n            style.textContent = rejectImports(contents);\n            $basicStyleSheet.set(self_1, style.sheet);\n            $locations.get(self_1).forEach(function (location) {\n                if (location.isConnected()) {\n                    restyleAdopter(self_1, getAdopterByLocation(self_1, location));\n                }\n            });\n        }\n    };\n    defineProperty(proto$2, 'cssRules', {\n        configurable: true,\n        enumerable: true,\n        get: function cssRules() {\n            checkInvocationCorrectness(this);\n            return $basicStyleSheet.get(this).cssRules;\n        },\n    });\n    cssStyleSheetMethods.forEach(function (method) {\n        proto$2[method] = function () {\n            var self = this;\n            checkInvocationCorrectness(self);\n            var args = arguments;\n            var basic = $basicStyleSheet.get(self);\n            var locations = $locations.get(self);\n            var result = basic[method].apply(basic, args);\n            locations.forEach(function (location) {\n                if (location.isConnected()) {\n                    var sheet = getAdopterByLocation(self, location).sheet;\n                    sheet[method].apply(sheet, args);\n                }\n            });\n            return result;\n        };\n    });\n    defineProperty(ConstructedStyleSheet, Symbol.hasInstance, {\n        configurable: true,\n        value: isCSSStyleSheetInstance,\n    });\n\n    var defaultObserverOptions = {\n        childList: true,\n        subtree: true,\n    };\n    var locations = new WeakMap();\n    function getAssociatedLocation(element) {\n        var location = locations.get(element);\n        if (!location) {\n            location = new Location(element);\n            locations.set(element, location);\n        }\n        return location;\n    }\n    function attachAdoptedStyleSheetProperty(constructor) {\n        defineProperty(constructor.prototype, 'adoptedStyleSheets', {\n            configurable: true,\n            enumerable: true,\n            get: function () {\n                return getAssociatedLocation(this).sheets;\n            },\n            set: function (sheets) {\n                getAssociatedLocation(this).update(sheets);\n            },\n        });\n    }\n    function traverseWebComponents(node, callback) {\n        var iter = document.createNodeIterator(node, NodeFilter.SHOW_ELEMENT, function (foundNode) {\n            return getShadowRoot(foundNode)\n                ? NodeFilter.FILTER_ACCEPT\n                : NodeFilter.FILTER_REJECT;\n        },\n        null, false);\n        for (var next = void 0; (next = iter.nextNode());) {\n            callback(getShadowRoot(next));\n        }\n    }\n    var $element = new WeakMap();\n    var $uniqueSheets = new WeakMap();\n    var $observer = new WeakMap();\n    function isExistingAdopter(self, element) {\n        return (element instanceof HTMLStyleElement &&\n            $uniqueSheets.get(self).some(function (sheet) { return getAdopterByLocation(sheet, self); }));\n    }\n    function getAdopterContainer(self) {\n        var element = $element.get(self);\n        return element instanceof Document ? element.body : element;\n    }\n    function adopt(self) {\n        var styleList = document.createDocumentFragment();\n        var sheets = $uniqueSheets.get(self);\n        var observer = $observer.get(self);\n        var container = getAdopterContainer(self);\n        observer.disconnect();\n        sheets.forEach(function (sheet) {\n            styleList.appendChild(getAdopterByLocation(sheet, self) || addAdopterLocation(sheet, self));\n        });\n        container.insertBefore(styleList, null);\n        observer.observe(container, defaultObserverOptions);\n        sheets.forEach(function (sheet) {\n            restyleAdopter(sheet, getAdopterByLocation(sheet, self));\n        });\n    }\n    function Location(element) {\n        var self = this;\n        self.sheets = [];\n        $element.set(self, element);\n        $uniqueSheets.set(self, []);\n        $observer.set(self, new MutationObserver(function (mutations, observer) {\n            if (!document) {\n                observer.disconnect();\n                return;\n            }\n            mutations.forEach(function (mutation) {\n                if (!hasShadyCss) {\n                    forEach.call(mutation.addedNodes, function (node) {\n                        if (!(node instanceof Element)) {\n                            return;\n                        }\n                        traverseWebComponents(node, function (root) {\n                            getAssociatedLocation(root).connect();\n                        });\n                    });\n                }\n                forEach.call(mutation.removedNodes, function (node) {\n                    if (!(node instanceof Element)) {\n                        return;\n                    }\n                    if (isExistingAdopter(self, node)) {\n                        adopt(self);\n                    }\n                    if (!hasShadyCss) {\n                        traverseWebComponents(node, function (root) {\n                            getAssociatedLocation(root).disconnect();\n                        });\n                    }\n                });\n            });\n        }));\n    }\n    var proto$1 = Location.prototype;\n    proto$1.isConnected = function isConnected() {\n        var element = $element.get(this);\n        return element instanceof Document\n            ? element.readyState !== 'loading'\n            : isElementConnected(element.host);\n    };\n    proto$1.connect = function connect() {\n        var container = getAdopterContainer(this);\n        $observer.get(this).observe(container, defaultObserverOptions);\n        if ($uniqueSheets.get(this).length > 0) {\n            adopt(this);\n        }\n        traverseWebComponents(container, function (root) {\n            getAssociatedLocation(root).connect();\n        });\n    };\n    proto$1.disconnect = function disconnect() {\n        $observer.get(this).disconnect();\n    };\n    proto$1.update = function update(sheets) {\n        var self = this;\n        var locationType = $element.get(self) === document ? 'Document' : 'ShadowRoot';\n        if (!Array.isArray(sheets)) {\n            throw new TypeError(\"Failed to set the 'adoptedStyleSheets' property on \" + locationType + \": Iterator getter is not callable.\");\n        }\n        if (!sheets.every(isCSSStyleSheetInstance)) {\n            throw new TypeError(\"Failed to set the 'adoptedStyleSheets' property on \" + locationType + \": Failed to convert value to 'CSSStyleSheet'\");\n        }\n        if (sheets.some(isNonConstructedStyleSheetInstance)) {\n            throw new TypeError(\"Failed to set the 'adoptedStyleSheets' property on \" + locationType + \": Can't adopt non-constructed stylesheets\");\n        }\n        self.sheets = sheets;\n        var oldUniqueSheets = $uniqueSheets.get(self);\n        var uniqueSheets = unique(sheets);\n        var removedSheets = diff(oldUniqueSheets, uniqueSheets);\n        removedSheets.forEach(function (sheet) {\n            removeNode(getAdopterByLocation(sheet, self));\n            removeAdopterLocation(sheet, self);\n        });\n        $uniqueSheets.set(self, uniqueSheets);\n        if (self.isConnected() && uniqueSheets.length > 0) {\n            adopt(self);\n        }\n    };\n\n    window.CSSStyleSheet = ConstructedStyleSheet;\n    attachAdoptedStyleSheetProperty(Document);\n    if ('ShadowRoot' in window) {\n        attachAdoptedStyleSheetProperty(ShadowRoot);\n        var proto = Element.prototype;\n        var attach_1 = proto.attachShadow;\n        proto.attachShadow = function attachShadow(init) {\n            var root = attach_1.call(this, init);\n            if (init.mode === 'closed') {\n                closedShadowRootRegistry.set(this, root);\n            }\n            return root;\n        };\n    }\n    var documentLocation = getAssociatedLocation(document);\n    if (documentLocation.isConnected()) {\n        documentLocation.connect();\n    }\n    else {\n        document.addEventListener('DOMContentLoaded', documentLocation.connect.bind(documentLocation));\n    }\n\n}());\n","function getGlobal() {\n\tif (\n\t\ttypeof global !== 'object' ||\n\t\t!global ||\n\t\tglobal.Math !== Math ||\n\t\tglobal.Array !== Array\n\t) {\n\t\treturn (\n\t\t\tself ||\n\t\t\twindow ||\n\t\t\tglobal ||\n\t\t\t(function () {\n\t\t\t\treturn this\n\t\t\t})()\n\t\t)\n\t}\n\treturn global\n}\n\n/** Global options\n *  @public\n *  @namespace options {Object}\n */\nexport default {\n\tstore: null,\n\troot: getGlobal(),\n\tmapping: {},\n}\n","export function o(obj) {\n  return JSON.stringify(obj)\n}\n","import { h, h as createElement } from './h'\nimport options from './options'\nimport WeElement from './we-element'\nimport { render } from './render'\nimport { define } from './define'\nimport { tag } from './tag'\nimport { cloneElement } from './clone-element'\nimport { getHost } from './get-host'\nimport { rpx } from './rpx'\nimport { classNames, extractClass } from './class'\nimport { o } from './o'\nimport { extend, get, set, bind, unbind } from './extend'\nimport { Fragment } from './util'\nimport 'construct-style-sheets-polyfill'\n\nh.f = Fragment\n\nfunction createRef() {\n\treturn {}\n}\n\nconst $ = {}\nconst Component = WeElement\nconst defineElement = define\nconst elements = options.mapping\n\nconst omi = {\n\ttag,\n\tWeElement,\n\tComponent,\n\trender,\n\th,\n\tcreateElement,\n\toptions,\n\tdefine,\n\tcloneElement,\n\tgetHost,\n\trpx,\n\tdefineElement,\n\tclassNames,\n\textractClass,\n\tcreateRef,\n\to,\n\telements,\n\t$,\n\textend,\n\tget,\n\tset,\n\tbind,\n\tunbind\n}\n\noptions.root.Omi = omi\noptions.root.omi = omi\noptions.root.Omi.version = '6.20.0'\n\nexport default omi\n\nexport {\n\ttag,\n\tWeElement,\n\tComponent,\n\trender,\n\th,\n\tcreateElement,\n\toptions,\n\tdefine,\n\tcloneElement,\n\tgetHost,\n\trpx,\n\tdefineElement,\n\tclassNames,\n\textractClass,\n\tcreateRef,\n\to,\n\telements,\n\t$,\n\textend,\n\tget,\n\tset,\n\tbind,\n\tunbind\n}\n"]}